"use strict";var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var w=Object.prototype.hasOwnProperty;var P=(i,t)=>{for(var r in t)c(i,r,{get:t[r],enumerable:!0})},b=(i,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of p(t))!w.call(i,e)&&e!==r&&c(i,e,{get:()=>t[e],enumerable:!(a=d(t,e))||a.enumerable});return i};var y=i=>b(c({},"__esModule",{value:!0}),i);var S={};P(S,{default:()=>f});module.exports=y(S);var n=require("@raycast/api"),m=require("react");var g=require("child_process"),o=require("@raycast/api"),h=require("node:os");async function u(i,t){let r=(0,o.getPreferenceValues)(),a=r.nightlightPath&&r.nightlightPath.length>0?r.nightlightPath:(0,h.cpus)()[0].model.includes("Apple")?"/opt/homebrew/bin/nightlight":"/usr/local/bin/nightlight";try{(0,g.execSync)(`${a} ${i}`),await(0,o.showToast)({style:o.Toast.Style.Success,title:t})}catch(e){let l="stderr"in e?e.stderr:"unknown error";await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed",message:l.includes("nightlight: command not found")?"Please install nightlight.":l})}}var s=require("react/jsx-runtime");function f(){let i=(0,n.getPreferenceValues)().closeWindow,[t,r]=(0,m.useState)();function a(e){let l=parseInt(e);return isNaN(l)?(r("Must be an integer."),!1):l<0||l>100?(r("Must be between 0-100."),!1):(r(void 0),!0)}return(0,s.jsx)(n.Form,{actions:(0,s.jsx)(n.ActionPanel,{children:(0,s.jsx)(n.Action.SubmitForm,{title:"Change Color Temperature",onSubmit:async({temperature:e})=>{a(e)&&(i?(0,n.closeMainWindow)():await(0,n.popToRoot)({clearSearchBar:!0}),await u(`temp ${e}`,`Set color temperature to ${e}`))}})}),children:(0,s.jsx)(n.Form.TextField,{id:"temperature",title:"Temperature",placeholder:"integer between 0 and 100",error:t,onChange:a})})}
