"use strict";var s=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var p=(e,t)=>{for(var i in t)s(e,i,{get:t[i],enumerable:!0})},P=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of d(t))!u.call(e,n)&&n!==i&&s(e,n,{get:()=>t[n],enumerable:!(r=f(t,n))||r.enumerable});return e};var w=e=>P(s({},"__esModule",{value:!0}),e);var y={};p(y,{default:()=>m});module.exports=w(y);var a=require("child_process"),o=require("@raycast/api"),h=require("node:os");async function c(e,t){let i=(0,o.getPreferenceValues)(),r=i.nightlightPath&&i.nightlightPath.length>0?i.nightlightPath:(0,h.cpus)()[0].model.includes("Apple")?"/opt/homebrew/bin/nightlight":"/usr/local/bin/nightlight";try{(0,a.execSync)(`${r} ${e}`),await(0,o.showToast)({style:o.Toast.Style.Success,title:t})}catch(n){let g="stderr"in n?n.stderr:"unknown error";await(0,o.showToast)({style:o.Toast.Style.Failure,title:"Failed",message:g.includes("nightlight: command not found")?"Please install nightlight.":g})}}var l=require("@raycast/api");async function m(){(0,l.getPreferenceValues)().closeWindow&&await(0,l.closeMainWindow)(),await c("toggle","Toggled night shift")}
