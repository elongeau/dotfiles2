"use strict";var Ac=Object.create;var _e=Object.defineProperty;var Sc=Object.getOwnPropertyDescriptor;var vc=Object.getOwnPropertyNames;var Oc=Object.getPrototypeOf,Dc=Object.prototype.hasOwnProperty;var R=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Pc=(e,t)=>{for(var r in t)_e(e,r,{get:t[r],enumerable:!0})},Ei=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of vc(t))!Dc.call(e,i)&&i!==r&&_e(e,i,{get:()=>t[i],enumerable:!(n=Sc(t,i))||n.enumerable});return e};var hr=(e,t,r)=>(r=e!=null?Ac(Oc(e)):{},Ei(t||!e||!e.__esModule?_e(r,"default",{value:e,enumerable:!0}):r,e)),xc=e=>Ei(_e({},"__esModule",{value:!0}),e);var bi=R(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.splitWhen=Jt.flatten=void 0;function Nc(e){return e.reduce((t,r)=>[].concat(t,r),[])}Jt.flatten=Nc;function Cc(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}Jt.splitWhen=Cc});var wi=R(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.isEnoentCodeError=void 0;function Ic(e){return e.code==="ENOENT"}Ee.isEnoentCodeError=Ic});var Ti=R(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.createDirentFromStats=void 0;var dr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Lc(e,t){return new dr(e,t)}be.createDirentFromStats=Lc});var Ai=R(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.removeLeadingDotSegment=yt.escape=yt.makeAbsolute=yt.unixify=void 0;var Rc=require("path"),Mc=2,Fc=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function qc(e){return e.replace(/\\/g,"/")}yt.unixify=qc;function kc(e,t){return Rc.resolve(e,t)}yt.makeAbsolute=kc;function Hc(e){return e.replace(Fc,"\\$2")}yt.escape=Hc;function Bc(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(Mc)}return e}yt.removeLeadingDotSegment=Bc});var vi=R((yd,Si)=>{Si.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Pi=R((md,Di)=>{var jc=vi(),Oi={"{":"}","(":")","[":"]"},$c=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,o=-2,s=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(s===-1||s>n||(s=e.indexOf("\\",t),s===-1||s>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(s=e.indexOf("\\",t),s===-1||s>i))||o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(o=e.indexOf(")",t),o>t&&(s=e.indexOf("\\",t),s===-1||s>o))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(o=e.indexOf(")",r),o>r&&(s=e.indexOf("\\",r),s===-1||s>o))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var c=Oi[a];if(c){var y=e.indexOf(c,t);y!==-1&&(t=y+1)}if(e[t]==="!")return!0}else t++}return!1},Xc=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=Oi[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};Di.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(jc(t))return!0;var n=$c;return r&&r.strict===!1&&(n=Xc),n(t)}});var Ni=R((gd,xi)=>{"use strict";var Uc=Pi(),Vc=require("path").posix.dirname,Gc=require("os").platform()==="win32",yr="/",Wc=/\\/g,Yc=/[\{\[].*[\}\]]$/,Kc=/(^|[^\\])([\{\[]|\([^\)]+$)/,Qc=/\\([\!\*\?\|\[\]\(\)\{\}])/g;xi.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Gc&&t.indexOf(yr)<0&&(t=t.replace(Wc,yr)),Yc.test(t)&&(t+=yr),t+="a";do t=Vc(t);while(Uc(t)||Kc.test(t));return t.replace(Qc,"$1")}});var we=R(pt=>{"use strict";pt.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;pt.find=(e,t)=>e.nodes.find(r=>r.type===t);pt.exceedsLimit=(e,t,r=1,n)=>n===!1||!pt.isInteger(e)||!pt.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;pt.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};pt.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);pt.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;pt.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;pt.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);pt.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Te=R((Ed,Ii)=>{"use strict";var Ci=we();Ii.exports=(e,t={})=>{let r=(n,i={})=>{let o=t.escapeInvalid&&Ci.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||s)&&Ci.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(e)}});var Ri=R((bd,Li)=>{"use strict";Li.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Xi=R((wd,$i)=>{"use strict";var Mi=Ri(),Ht=(e,t,r)=>{if(Mi(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(Mi(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),c=e+":"+t+"="+i+o+s+a;if(Ht.cache.hasOwnProperty(c))return Ht.cache[c].result;let y=Math.min(e,t),g=Math.max(e,t);if(Math.abs(y-g)===1){let T=e+"|"+t;return n.capture?`(${T})`:n.wrap===!1?T:`(?:${T})`}let A=ji(e)||ji(t),h={min:e,max:t,a:y,b:g},E=[],m=[];if(A&&(h.isPadded=A,h.maxLen=String(h.max).length),y<0){let T=g<0?Math.abs(g):1;m=Fi(T,Math.abs(y),h,n),y=h.a=0}return g>=0&&(E=Fi(y,g,h,n)),h.negatives=m,h.positives=E,h.result=Jc(m,E,n),n.capture===!0?h.result=`(${h.result})`:n.wrap!==!1&&E.length+m.length>1&&(h.result=`(?:${h.result})`),Ht.cache[c]=h,h.result};function Jc(e,t,r){let n=mr(e,t,"-",!1,r)||[],i=mr(t,e,"",!1,r)||[],o=mr(e,t,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function zc(e,t){let r=1,n=1,i=ki(e,r),o=new Set([t]);for(;e<=i&&i<=t;)o.add(i),r+=1,i=ki(e,r);for(i=Hi(t+1,n)-1;e<i&&i<=t;)o.add(i),n+=1,i=Hi(t+1,n)-1;return o=[...o],o.sort(el),o}function Zc(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=tl(e,t),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[c,y]=n[a];c===y?o+=c:c!=="0"||y!=="9"?o+=rl(c,y,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function Fi(e,t,r,n){let i=zc(e,t),o=[],s=e,a;for(let c=0;c<i.length;c++){let y=i[c],g=Zc(String(s),String(y),n),A="";if(!r.isPadded&&a&&a.pattern===g.pattern){a.count.length>1&&a.count.pop(),a.count.push(g.count[0]),a.string=a.pattern+Bi(a.count),s=y+1;continue}r.isPadded&&(A=nl(y,r,n)),g.string=A+g.pattern+Bi(g.count),o.push(g),s=y+1,a=g}return o}function mr(e,t,r,n,i){let o=[];for(let s of e){let{string:a}=s;!n&&!qi(t,"string",a)&&o.push(r+a),n&&qi(t,"string",a)&&o.push(r+a)}return o}function tl(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function el(e,t){return e>t?1:t>e?-1:0}function qi(e,t,r){return e.some(n=>n[t]===r)}function ki(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function Hi(e,t){return e-e%Math.pow(10,t)}function Bi(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function rl(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function ji(e){return/^-?(0+)\d/.test(e)}function nl(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Ht.cache={};Ht.clearCache=()=>Ht.cache={};$i.exports=Ht});var Er=R((Td,Ji)=>{"use strict";var il=require("util"),Gi=Xi(),Ui=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),sl=e=>t=>e===!0?Number(t):String(t),gr=e=>typeof e=="number"||typeof e=="string"&&e!=="",le=e=>Number.isInteger(+e),_r=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},ol=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,al=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Vi=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},ul=(e,t)=>{e.negatives.sort((s,a)=>s<a?-1:s>a?1:0),e.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=t.capture?"":"?:",n="",i="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,t.wrap?`(${r}${o})`:o},Wi=(e,t,r,n)=>{if(r)return Gi(e,t,{wrap:!1,...n});let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`},Yi=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return Gi(e,t,r)},Ki=(...e)=>new RangeError("Invalid range arguments: "+il.inspect(...e)),Qi=(e,t,r)=>{if(r.strictRanges===!0)throw Ki([e,t]);return[]},cl=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},ll=(e,t,r=1,n={})=>{let i=Number(e),o=Number(t);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw Ki([e,t]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(e),c=String(t),y=String(r);r=Math.max(Math.abs(r),1);let g=_r(a)||_r(c)||_r(y),A=g?Math.max(a.length,c.length,y.length):0,h=g===!1&&ol(e,t,n)===!1,E=n.transform||sl(h);if(n.toRegex&&r===1)return Wi(Vi(e,A),Vi(t,A),!0,n);let m={negatives:[],positives:[]},T=P=>m[P<0?"negatives":"positives"].push(Math.abs(P)),I=[],C=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?T(i):I.push(al(E(i,C),A,h)),i=s?i-r:i+r,C++;return n.toRegex===!0?r>1?ul(m,n):Yi(I,null,{wrap:!1,...n}):I},fl=(e,t,r=1,n={})=>{if(!le(e)&&e.length>1||!le(t)&&t.length>1)return Qi(e,t,n);let i=n.transform||(h=>String.fromCharCode(h)),o=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),a=o>s,c=Math.min(o,s),y=Math.max(o,s);if(n.toRegex&&r===1)return Wi(c,y,!1,n);let g=[],A=0;for(;a?o>=s:o<=s;)g.push(i(o,A)),o=a?o-r:o+r,A++;return n.toRegex===!0?Yi(g,null,{wrap:!1,options:n}):g},Ae=(e,t,r,n={})=>{if(t==null&&gr(e))return[e];if(!gr(e)||!gr(t))return Qi(e,t,n);if(typeof r=="function")return Ae(e,t,1,{transform:r});if(Ui(r))return Ae(e,t,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,le(r)?le(e)&&le(t)?ll(e,t,r,i):fl(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Ui(r)?cl(r,i):Ae(e,t,1,r)};Ji.exports=Ae});var ts=R((Ad,Zi)=>{"use strict";var pl=Er(),zi=we(),hl=(e,t={})=>{let r=(n,i={})=>{let o=zi.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||s===!0,c=t.escapeInvalid===!0?"\\":"",y="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let g=zi.reduce(n.nodes),A=pl(...g,{...t,wrap:!1,toRegex:!0});if(A.length!==0)return g.length>1&&A.length>1?`(${A})`:A}if(n.nodes)for(let g of n.nodes)y+=r(g,n);return y};return r(e)};Zi.exports=hl});var ns=R((Sd,rs)=>{"use strict";var dl=Er(),es=Te(),zt=we(),Bt=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?zt.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let o of i)n.push(Bt(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Bt(i,o,r):i+o);return zt.flatten(n)},yl=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Bt(a.pop(),es(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Bt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let A=zt.reduce(i.nodes);if(zt.exceedsLimit(...A,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let h=dl(...A,t);h.length===0&&(h=es(i,t)),a.push(Bt(a.pop(),h)),i.nodes=[];return}let c=zt.encloseBrace(i),y=i.queue,g=i;for(;g.type!=="brace"&&g.type!=="root"&&g.parent;)g=g.parent,y=g.queue;for(let A=0;A<i.nodes.length;A++){let h=i.nodes[A];if(h.type==="comma"&&i.type==="brace"){A===1&&y.push(""),y.push("");continue}if(h.type==="close"){a.push(Bt(a.pop(),y,c));continue}if(h.value&&h.type!=="open"){y.push(Bt(y.pop(),h.value));continue}h.nodes&&n(h,i)}return y};return zt.flatten(n(e))};rs.exports=yl});var ss=R((vd,is)=>{"use strict";is.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var ls=R((Od,cs)=>{"use strict";var ml=Te(),{MAX_LENGTH:os,CHAR_BACKSLASH:br,CHAR_BACKTICK:gl,CHAR_COMMA:_l,CHAR_DOT:El,CHAR_LEFT_PARENTHESES:bl,CHAR_RIGHT_PARENTHESES:wl,CHAR_LEFT_CURLY_BRACE:Tl,CHAR_RIGHT_CURLY_BRACE:Al,CHAR_LEFT_SQUARE_BRACKET:as,CHAR_RIGHT_SQUARE_BRACKET:us,CHAR_DOUBLE_QUOTE:Sl,CHAR_SINGLE_QUOTE:vl,CHAR_NO_BREAK_SPACE:Ol,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Dl}=ss(),Pl=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(os,r.maxLength):os;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},o=[i],s=i,a=i,c=0,y=e.length,g=0,A=0,h,E={},m=()=>e[g++],T=I=>{if(I.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&I.type==="text"){a.value+=I.value;return}return s.nodes.push(I),I.parent=s,I.prev=a,a=I,I};for(T({type:"bos"});g<y;)if(s=o[o.length-1],h=m(),!(h===Dl||h===Ol)){if(h===br){T({type:"text",value:(t.keepEscaping?h:"")+m()});continue}if(h===us){T({type:"text",value:"\\"+h});continue}if(h===as){c++;let I=!0,C;for(;g<y&&(C=m());){if(h+=C,C===as){c++;continue}if(C===br){h+=m();continue}if(C===us&&(c--,c===0))break}T({type:"text",value:h});continue}if(h===bl){s=T({type:"paren",nodes:[]}),o.push(s),T({type:"text",value:h});continue}if(h===wl){if(s.type!=="paren"){T({type:"text",value:h});continue}s=o.pop(),T({type:"text",value:h}),s=o[o.length-1];continue}if(h===Sl||h===vl||h===gl){let I=h,C;for(t.keepQuotes!==!0&&(h="");g<y&&(C=m());){if(C===br){h+=C+m();continue}if(C===I){t.keepQuotes===!0&&(h+=C);break}h+=C}T({type:"text",value:h});continue}if(h===Tl){A++;let C={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:A,commas:0,ranges:0,nodes:[]};s=T(C),o.push(s),T({type:"open",value:h});continue}if(h===Al){if(s.type!=="brace"){T({type:"text",value:h});continue}let I="close";s=o.pop(),s.close=!0,T({type:I,value:h}),A--,s=o[o.length-1];continue}if(h===_l&&A>0){if(s.ranges>0){s.ranges=0;let I=s.nodes.shift();s.nodes=[I,{type:"text",value:ml(s)}]}T({type:"comma",value:h}),s.commas++;continue}if(h===El&&A>0&&s.commas===0){let I=s.nodes;if(A===0||I.length===0){T({type:"text",value:h});continue}if(a.type==="dot"){if(s.range=[],a.value+=h,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){I.pop();let C=I[I.length-1];C.value+=a.value+h,a=C,s.ranges--;continue}T({type:"dot",value:h});continue}T({type:"text",value:h})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(P=>{P.nodes||(P.type==="open"&&(P.isOpen=!0),P.type==="close"&&(P.isClose=!0),P.nodes||(P.type="text"),P.invalid=!0)});let I=o[o.length-1],C=I.nodes.indexOf(s);I.nodes.splice(C,1,...s.nodes)}while(o.length>0);return T({type:"eos"}),i};cs.exports=Pl});var hs=R((Dd,ps)=>{"use strict";var fs=Te(),xl=ts(),Nl=ns(),Cl=ls(),ct=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=ct.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(ct.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};ct.parse=(e,t={})=>Cl(e,t);ct.stringify=(e,t={})=>fs(typeof e=="string"?ct.parse(e,t):e,t);ct.compile=(e,t={})=>(typeof e=="string"&&(e=ct.parse(e,t)),xl(e,t));ct.expand=(e,t={})=>{typeof e=="string"&&(e=ct.parse(e,t));let r=Nl(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};ct.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?ct.compile(e,t):ct.expand(e,t);ps.exports=ct});var fe=R((Pd,_s)=>{"use strict";var Il=require("path"),mt="\\\\/",ds=`[^${mt}]`,At="\\.",Ll="\\+",Rl="\\?",Se="\\/",Ml="(?=.)",ys="[^/]",wr=`(?:${Se}|$)`,ms=`(?:^|${Se})`,Tr=`${At}{1,2}${wr}`,Fl=`(?!${At})`,ql=`(?!${ms}${Tr})`,kl=`(?!${At}{0,1}${wr})`,Hl=`(?!${Tr})`,Bl=`[^.${Se}]`,jl=`${ys}*?`,gs={DOT_LITERAL:At,PLUS_LITERAL:Ll,QMARK_LITERAL:Rl,SLASH_LITERAL:Se,ONE_CHAR:Ml,QMARK:ys,END_ANCHOR:wr,DOTS_SLASH:Tr,NO_DOT:Fl,NO_DOTS:ql,NO_DOT_SLASH:kl,NO_DOTS_SLASH:Hl,QMARK_NO_DOT:Bl,STAR:jl,START_ANCHOR:ms},$l={...gs,SLASH_LITERAL:`[${mt}]`,QMARK:ds,STAR:`${ds}*?`,DOTS_SLASH:`${At}{1,2}(?:[${mt}]|$)`,NO_DOT:`(?!${At})`,NO_DOTS:`(?!(?:^|[${mt}])${At}{1,2}(?:[${mt}]|$))`,NO_DOT_SLASH:`(?!${At}{0,1}(?:[${mt}]|$))`,NO_DOTS_SLASH:`(?!${At}{1,2}(?:[${mt}]|$))`,QMARK_NO_DOT:`[^.${mt}]`,START_ANCHOR:`(?:^|[${mt}])`,END_ANCHOR:`(?:[${mt}]|$)`},Xl={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};_s.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Xl,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Il.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?$l:gs}}});var pe=R(at=>{"use strict";var Ul=require("path"),Vl=process.platform==="win32",{REGEX_BACKSLASH:Gl,REGEX_REMOVE_BACKSLASH:Wl,REGEX_SPECIAL_CHARS:Yl,REGEX_SPECIAL_CHARS_GLOBAL:Kl}=fe();at.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);at.hasRegexChars=e=>Yl.test(e);at.isRegexChar=e=>e.length===1&&at.hasRegexChars(e);at.escapeRegex=e=>e.replace(Kl,"\\$1");at.toPosixSlashes=e=>e.replace(Gl,"/");at.removeBackslashes=e=>e.replace(Wl,t=>t==="\\"?"":t);at.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};at.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:Vl===!0||Ul.sep==="\\";at.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?at.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};at.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};at.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${e})${i}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var Os=R((Nd,vs)=>{"use strict";var Es=pe(),{CHAR_ASTERISK:Ar,CHAR_AT:Ql,CHAR_BACKWARD_SLASH:he,CHAR_COMMA:Jl,CHAR_DOT:Sr,CHAR_EXCLAMATION_MARK:vr,CHAR_FORWARD_SLASH:Ss,CHAR_LEFT_CURLY_BRACE:Or,CHAR_LEFT_PARENTHESES:Dr,CHAR_LEFT_SQUARE_BRACKET:zl,CHAR_PLUS:Zl,CHAR_QUESTION_MARK:bs,CHAR_RIGHT_CURLY_BRACE:tf,CHAR_RIGHT_PARENTHESES:ws,CHAR_RIGHT_SQUARE_BRACKET:ef}=fe(),Ts=e=>e===Ss||e===he,As=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},rf=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],c=e,y=-1,g=0,A=0,h=!1,E=!1,m=!1,T=!1,I=!1,C=!1,P=!1,b=!1,p=!1,u=!1,_=0,D,f,x={value:"",depth:0,isGlob:!1},v=()=>y>=n,w=()=>c.charCodeAt(y+1),L=()=>(D=f,c.charCodeAt(++y));for(;y<n;){f=L();let U;if(f===he){P=x.backslashes=!0,f=L(),f===Or&&(C=!0);continue}if(C===!0||f===Or){for(_++;v()!==!0&&(f=L());){if(f===he){P=x.backslashes=!0,L();continue}if(f===Or){_++;continue}if(C!==!0&&f===Sr&&(f=L())===Sr){if(h=x.isBrace=!0,m=x.isGlob=!0,u=!0,i===!0)continue;break}if(C!==!0&&f===Jl){if(h=x.isBrace=!0,m=x.isGlob=!0,u=!0,i===!0)continue;break}if(f===tf&&(_--,_===0)){C=!1,h=x.isBrace=!0,u=!0;break}}if(i===!0)continue;break}if(f===Ss){if(o.push(y),s.push(x),x={value:"",depth:0,isGlob:!1},u===!0)continue;if(D===Sr&&y===g+1){g+=2;continue}A=y+1;continue}if(r.noext!==!0&&(f===Zl||f===Ql||f===Ar||f===bs||f===vr)===!0&&w()===Dr){if(m=x.isGlob=!0,T=x.isExtglob=!0,u=!0,f===vr&&y===g&&(p=!0),i===!0){for(;v()!==!0&&(f=L());){if(f===he){P=x.backslashes=!0,f=L();continue}if(f===ws){m=x.isGlob=!0,u=!0;break}}continue}break}if(f===Ar){if(D===Ar&&(I=x.isGlobstar=!0),m=x.isGlob=!0,u=!0,i===!0)continue;break}if(f===bs){if(m=x.isGlob=!0,u=!0,i===!0)continue;break}if(f===zl){for(;v()!==!0&&(U=L());){if(U===he){P=x.backslashes=!0,L();continue}if(U===ef){E=x.isBracket=!0,m=x.isGlob=!0,u=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&f===vr&&y===g){b=x.negated=!0,g++;continue}if(r.noparen!==!0&&f===Dr){if(m=x.isGlob=!0,i===!0){for(;v()!==!0&&(f=L());){if(f===Dr){P=x.backslashes=!0,f=L();continue}if(f===ws){u=!0;break}}continue}break}if(m===!0){if(u=!0,i===!0)continue;break}}r.noext===!0&&(T=!1,m=!1);let F=c,j="",N="";g>0&&(j=c.slice(0,g),c=c.slice(g),A-=g),F&&m===!0&&A>0?(F=c.slice(0,A),N=c.slice(A)):m===!0?(F="",N=c):F=c,F&&F!==""&&F!=="/"&&F!==c&&Ts(F.charCodeAt(F.length-1))&&(F=F.slice(0,-1)),r.unescape===!0&&(N&&(N=Es.removeBackslashes(N)),F&&P===!0&&(F=Es.removeBackslashes(F)));let O={prefix:j,input:e,start:g,base:F,glob:N,isBrace:h,isBracket:E,isGlob:m,isExtglob:T,isGlobstar:I,negated:b,negatedExtglob:p};if(r.tokens===!0&&(O.maxDepth=0,Ts(f)||s.push(x),O.tokens=s),r.parts===!0||r.tokens===!0){let U;for(let k=0;k<o.length;k++){let Z=U?U+1:g,Y=o[k],rt=e.slice(Z,Y);r.tokens&&(k===0&&g!==0?(s[k].isPrefix=!0,s[k].value=j):s[k].value=rt,As(s[k]),O.maxDepth+=s[k].depth),(k!==0||rt!=="")&&a.push(rt),U=Y}if(U&&U+1<e.length){let k=e.slice(U+1);a.push(k),r.tokens&&(s[s.length-1].value=k,As(s[s.length-1]),O.maxDepth+=s[s.length-1].depth)}O.slashes=o,O.parts=a}return O};vs.exports=rf});var Ns=R((Cd,xs)=>{"use strict";var ve=fe(),lt=pe(),{MAX_LENGTH:Oe,POSIX_REGEX_SOURCE:nf,REGEX_NON_SPECIAL_CHARS:sf,REGEX_SPECIAL_CHARS_BACKREF:of,REPLACEMENTS:Ds}=ve,af=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>lt.escapeRegex(i)).join("..")}return r},Zt=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Ps=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=Ds[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Oe,r.maxLength):Oe,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",c=lt.isWindows(t),y=ve.globChars(c),g=ve.extglobChars(y),{DOT_LITERAL:A,PLUS_LITERAL:h,SLASH_LITERAL:E,ONE_CHAR:m,DOTS_SLASH:T,NO_DOT:I,NO_DOT_SLASH:C,NO_DOTS_SLASH:P,QMARK:b,QMARK_NO_DOT:p,STAR:u,START_ANCHOR:_}=y,D=S=>`(${a}(?:(?!${_}${S.dot?T:A}).)*?)`,f=r.dot?"":I,x=r.dot?b:p,v=r.bash===!0?D(r):u;r.capture&&(v=`(${v})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let w={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=lt.removePrefix(e,w),i=e.length;let L=[],F=[],j=[],N=o,O,U=()=>w.index===i-1,k=w.peek=(S=1)=>e[w.index+S],Z=w.advance=()=>e[++w.index]||"",Y=()=>e.slice(w.index+1),rt=(S="",B=0)=>{w.consumed+=S,w.index+=B},Qt=S=>{w.output+=S.output!=null?S.output:S.value,rt(S.value)},ge=()=>{let S=1;for(;k()==="!"&&(k(2)!=="("||k(3)==="?");)Z(),w.start++,S++;return S%2===0?!1:(w.negated=!0,w.start++,!0)},kt=S=>{w[S]++,j.push(S)},Tt=S=>{w[S]--,j.pop()},d=S=>{if(N.type==="globstar"){let B=w.braces>0&&(S.type==="comma"||S.type==="brace"),q=S.extglob===!0||L.length&&(S.type==="pipe"||S.type==="paren");S.type!=="slash"&&S.type!=="paren"&&!B&&!q&&(w.output=w.output.slice(0,-N.output.length),N.type="star",N.value="*",N.output=v,w.output+=N.output)}if(L.length&&S.type!=="paren"&&(L[L.length-1].inner+=S.value),(S.value||S.output)&&Qt(S),N&&N.type==="text"&&S.type==="text"){N.value+=S.value,N.output=(N.output||"")+S.value;return}S.prev=N,s.push(S),N=S},l=(S,B)=>{let q={...g[B],conditions:1,inner:""};q.prev=N,q.parens=w.parens,q.output=w.output;let H=(r.capture?"(":"")+q.open;kt("parens"),d({type:S,value:B,output:w.output?"":m}),d({type:"paren",extglob:!0,value:Z(),output:H}),L.push(q)},M=S=>{let B=S.close+(r.capture?")":""),q;if(S.type==="negate"){let H=v;S.inner&&S.inner.length>1&&S.inner.includes("/")&&(H=D(r)),(H!==v||U()||/^\)+$/.test(Y()))&&(B=S.close=`)$))${H}`),S.inner.includes("*")&&(q=Y())&&/^\.[^\\/.]+$/.test(q)&&(B=S.close=`)${q})${H})`),S.prev.type==="bos"&&(w.negatedExtglob=!0)}d({type:"paren",extglob:!0,value:O,output:B}),Tt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let S=!1,B=e.replace(of,(q,H,X,V,G,K)=>V==="\\"?(S=!0,q):V==="?"?H?H+V+(G?b.repeat(G.length):""):K===0?x+(G?b.repeat(G.length):""):b.repeat(X.length):V==="."?A.repeat(X.length):V==="*"?H?H+V+(G?v:""):v:H?q:`\\${q}`);return S===!0&&(r.unescape===!0?B=B.replace(/\\/g,""):B=B.replace(/\\+/g,q=>q.length%2===0?"\\\\":q?"\\":"")),B===e&&r.contains===!0?(w.output=e,w):(w.output=lt.wrapOutput(B,w,t),w)}for(;!U();){if(O=Z(),O==="\0")continue;if(O==="\\"){let q=k();if(q==="/"&&r.bash!==!0||q==="."||q===";")continue;if(!q){O+="\\",d({type:"text",value:O});continue}let H=/^\\+/.exec(Y()),X=0;if(H&&H[0].length>2&&(X=H[0].length,w.index+=X,X%2!==0&&(O+="\\")),r.unescape===!0?O=Z():O+=Z(),w.brackets===0){d({type:"text",value:O});continue}}if(w.brackets>0&&(O!=="]"||N.value==="["||N.value==="[^")){if(r.posix!==!1&&O===":"){let q=N.value.slice(1);if(q.includes("[")&&(N.posix=!0,q.includes(":"))){let H=N.value.lastIndexOf("["),X=N.value.slice(0,H),V=N.value.slice(H+2),G=nf[V];if(G){N.value=X+G,w.backtrack=!0,Z(),!o.output&&s.indexOf(N)===1&&(o.output=m);continue}}}(O==="["&&k()!==":"||O==="-"&&k()==="]")&&(O=`\\${O}`),O==="]"&&(N.value==="["||N.value==="[^")&&(O=`\\${O}`),r.posix===!0&&O==="!"&&N.value==="["&&(O="^"),N.value+=O,Qt({value:O});continue}if(w.quotes===1&&O!=='"'){O=lt.escapeRegex(O),N.value+=O,Qt({value:O});continue}if(O==='"'){w.quotes=w.quotes===1?0:1,r.keepQuotes===!0&&d({type:"text",value:O});continue}if(O==="("){kt("parens"),d({type:"paren",value:O});continue}if(O===")"){if(w.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Zt("opening","("));let q=L[L.length-1];if(q&&w.parens===q.parens+1){M(L.pop());continue}d({type:"paren",value:O,output:w.parens?")":"\\)"}),Tt("parens");continue}if(O==="["){if(r.nobracket===!0||!Y().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Zt("closing","]"));O=`\\${O}`}else kt("brackets");d({type:"bracket",value:O});continue}if(O==="]"){if(r.nobracket===!0||N&&N.type==="bracket"&&N.value.length===1){d({type:"text",value:O,output:`\\${O}`});continue}if(w.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Zt("opening","["));d({type:"text",value:O,output:`\\${O}`});continue}Tt("brackets");let q=N.value.slice(1);if(N.posix!==!0&&q[0]==="^"&&!q.includes("/")&&(O=`/${O}`),N.value+=O,Qt({value:O}),r.literalBrackets===!1||lt.hasRegexChars(q))continue;let H=lt.escapeRegex(N.value);if(w.output=w.output.slice(0,-N.value.length),r.literalBrackets===!0){w.output+=H,N.value=H;continue}N.value=`(${a}${H}|${N.value})`,w.output+=N.value;continue}if(O==="{"&&r.nobrace!==!0){kt("braces");let q={type:"brace",value:O,output:"(",outputIndex:w.output.length,tokensIndex:w.tokens.length};F.push(q),d(q);continue}if(O==="}"){let q=F[F.length-1];if(r.nobrace===!0||!q){d({type:"text",value:O,output:O});continue}let H=")";if(q.dots===!0){let X=s.slice(),V=[];for(let G=X.length-1;G>=0&&(s.pop(),X[G].type!=="brace");G--)X[G].type!=="dots"&&V.unshift(X[G].value);H=af(V,r),w.backtrack=!0}if(q.comma!==!0&&q.dots!==!0){let X=w.output.slice(0,q.outputIndex),V=w.tokens.slice(q.tokensIndex);q.value=q.output="\\{",O=H="\\}",w.output=X;for(let G of V)w.output+=G.output||G.value}d({type:"brace",value:O,output:H}),Tt("braces"),F.pop();continue}if(O==="|"){L.length>0&&L[L.length-1].conditions++,d({type:"text",value:O});continue}if(O===","){let q=O,H=F[F.length-1];H&&j[j.length-1]==="braces"&&(H.comma=!0,q="|"),d({type:"comma",value:O,output:q});continue}if(O==="/"){if(N.type==="dot"&&w.index===w.start+1){w.start=w.index+1,w.consumed="",w.output="",s.pop(),N=o;continue}d({type:"slash",value:O,output:E});continue}if(O==="."){if(w.braces>0&&N.type==="dot"){N.value==="."&&(N.output=A);let q=F[F.length-1];N.type="dots",N.output+=O,N.value+=O,q.dots=!0;continue}if(w.braces+w.parens===0&&N.type!=="bos"&&N.type!=="slash"){d({type:"text",value:O,output:A});continue}d({type:"dot",value:O,output:A});continue}if(O==="?"){if(!(N&&N.value==="(")&&r.noextglob!==!0&&k()==="("&&k(2)!=="?"){l("qmark",O);continue}if(N&&N.type==="paren"){let H=k(),X=O;if(H==="<"&&!lt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(N.value==="("&&!/[!=<:]/.test(H)||H==="<"&&!/<([!=]|\w+>)/.test(Y()))&&(X=`\\${O}`),d({type:"text",value:O,output:X});continue}if(r.dot!==!0&&(N.type==="slash"||N.type==="bos")){d({type:"qmark",value:O,output:p});continue}d({type:"qmark",value:O,output:b});continue}if(O==="!"){if(r.noextglob!==!0&&k()==="("&&(k(2)!=="?"||!/[!=<:]/.test(k(3)))){l("negate",O);continue}if(r.nonegate!==!0&&w.index===0){ge();continue}}if(O==="+"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){l("plus",O);continue}if(N&&N.value==="("||r.regex===!1){d({type:"plus",value:O,output:h});continue}if(N&&(N.type==="bracket"||N.type==="paren"||N.type==="brace")||w.parens>0){d({type:"plus",value:O});continue}d({type:"plus",value:h});continue}if(O==="@"){if(r.noextglob!==!0&&k()==="("&&k(2)!=="?"){d({type:"at",extglob:!0,value:O,output:""});continue}d({type:"text",value:O});continue}if(O!=="*"){(O==="$"||O==="^")&&(O=`\\${O}`);let q=sf.exec(Y());q&&(O+=q[0],w.index+=q[0].length),d({type:"text",value:O});continue}if(N&&(N.type==="globstar"||N.star===!0)){N.type="star",N.star=!0,N.value+=O,N.output=v,w.backtrack=!0,w.globstar=!0,rt(O);continue}let S=Y();if(r.noextglob!==!0&&/^\([^?]/.test(S)){l("star",O);continue}if(N.type==="star"){if(r.noglobstar===!0){rt(O);continue}let q=N.prev,H=q.prev,X=q.type==="slash"||q.type==="bos",V=H&&(H.type==="star"||H.type==="globstar");if(r.bash===!0&&(!X||S[0]&&S[0]!=="/")){d({type:"star",value:O,output:""});continue}let G=w.braces>0&&(q.type==="comma"||q.type==="brace"),K=L.length&&(q.type==="pipe"||q.type==="paren");if(!X&&q.type!=="paren"&&!G&&!K){d({type:"star",value:O,output:""});continue}for(;S.slice(0,3)==="/**";){let ot=e[w.index+4];if(ot&&ot!=="/")break;S=S.slice(3),rt("/**",3)}if(q.type==="bos"&&U()){N.type="globstar",N.value+=O,N.output=D(r),w.output=N.output,w.globstar=!0,rt(O);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&!V&&U()){w.output=w.output.slice(0,-(q.output+N.output).length),q.output=`(?:${q.output}`,N.type="globstar",N.output=D(r)+(r.strictSlashes?")":"|$)"),N.value+=O,w.globstar=!0,w.output+=q.output+N.output,rt(O);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&S[0]==="/"){let ot=S[1]!==void 0?"|$":"";w.output=w.output.slice(0,-(q.output+N.output).length),q.output=`(?:${q.output}`,N.type="globstar",N.output=`${D(r)}${E}|${E}${ot})`,N.value+=O,w.output+=q.output+N.output,w.globstar=!0,rt(O+Z()),d({type:"slash",value:"/",output:""});continue}if(q.type==="bos"&&S[0]==="/"){N.type="globstar",N.value+=O,N.output=`(?:^|${E}|${D(r)}${E})`,w.output=N.output,w.globstar=!0,rt(O+Z()),d({type:"slash",value:"/",output:""});continue}w.output=w.output.slice(0,-N.output.length),N.type="globstar",N.output=D(r),N.value+=O,w.output+=N.output,w.globstar=!0,rt(O);continue}let B={type:"star",value:O,output:v};if(r.bash===!0){B.output=".*?",(N.type==="bos"||N.type==="slash")&&(B.output=f+B.output),d(B);continue}if(N&&(N.type==="bracket"||N.type==="paren")&&r.regex===!0){B.output=O,d(B);continue}(w.index===w.start||N.type==="slash"||N.type==="dot")&&(N.type==="dot"?(w.output+=C,N.output+=C):r.dot===!0?(w.output+=P,N.output+=P):(w.output+=f,N.output+=f),k()!=="*"&&(w.output+=m,N.output+=m)),d(B)}for(;w.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zt("closing","]"));w.output=lt.escapeLast(w.output,"["),Tt("brackets")}for(;w.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zt("closing",")"));w.output=lt.escapeLast(w.output,"("),Tt("parens")}for(;w.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zt("closing","}"));w.output=lt.escapeLast(w.output,"{"),Tt("braces")}if(r.strictSlashes!==!0&&(N.type==="star"||N.type==="bracket")&&d({type:"maybe_slash",value:"",output:`${E}?`}),w.backtrack===!0){w.output="";for(let S of w.tokens)w.output+=S.output!=null?S.output:S.value,S.suffix&&(w.output+=S.suffix)}return w};Ps.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Oe,r.maxLength):Oe,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=Ds[e]||e;let o=lt.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:y,NO_DOT:g,NO_DOTS:A,NO_DOTS_SLASH:h,STAR:E,START_ANCHOR:m}=ve.globChars(o),T=r.dot?A:g,I=r.dot?h:g,C=r.capture?"":"?:",P={negated:!1,prefix:""},b=r.bash===!0?".*?":E;r.capture&&(b=`(${b})`);let p=f=>f.noglobstar===!0?b:`(${C}(?:(?!${m}${f.dot?y:s}).)*?)`,u=f=>{switch(f){case"*":return`${T}${c}${b}`;case".*":return`${s}${c}${b}`;case"*.*":return`${T}${b}${s}${c}${b}`;case"*/*":return`${T}${b}${a}${c}${I}${b}`;case"**":return T+p(r);case"**/*":return`(?:${T}${p(r)}${a})?${I}${c}${b}`;case"**/*.*":return`(?:${T}${p(r)}${a})?${I}${b}${s}${c}${b}`;case"**/.*":return`(?:${T}${p(r)}${a})?${s}${c}${b}`;default:{let x=/^(.*?)\.(\w+)$/.exec(f);if(!x)return;let v=u(x[1]);return v?v+s+x[2]:void 0}}},_=lt.removePrefix(e,P),D=u(_);return D&&r.strictSlashes!==!0&&(D+=`${a}?`),D};xs.exports=Ps});var Is=R((Id,Cs)=>{"use strict";var uf=require("path"),cf=Os(),Pr=Ns(),xr=pe(),lf=fe(),ff=e=>e&&typeof e=="object"&&!Array.isArray(e),Q=(e,t,r=!1)=>{if(Array.isArray(e)){let g=e.map(h=>Q(h,t,r));return h=>{for(let E of g){let m=E(h);if(m)return m}return!1}}let n=ff(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},o=xr.isWindows(t),s=n?Q.compileRe(e,t):Q.makeRe(e,t,!1,!0),a=s.state;delete s.state;let c=()=>!1;if(i.ignore){let g={...t,ignore:null,onMatch:null,onResult:null};c=Q(i.ignore,g,r)}let y=(g,A=!1)=>{let{isMatch:h,match:E,output:m}=Q.test(g,s,t,{glob:e,posix:o}),T={glob:e,state:a,regex:s,posix:o,input:g,output:m,match:E,isMatch:h};return typeof i.onResult=="function"&&i.onResult(T),h===!1?(T.isMatch=!1,A?T:!1):c(g)?(typeof i.onIgnore=="function"&&i.onIgnore(T),T.isMatch=!1,A?T:!1):(typeof i.onMatch=="function"&&i.onMatch(T),A?T:!0)};return r&&(y.state=a),y};Q.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?xr.toPosixSlashes:null),a=e===n,c=a&&s?s(e):e;return a===!1&&(c=s?s(e):e,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Q.matchBase(e,t,r,i):a=t.exec(c)),{isMatch:!!a,match:a,output:c}};Q.matchBase=(e,t,r,n=xr.isWindows(r))=>(t instanceof RegExp?t:Q.makeRe(t,r)).test(uf.basename(e));Q.isMatch=(e,t,r)=>Q(t,r)(e);Q.parse=(e,t)=>Array.isArray(e)?e.map(r=>Q.parse(r,t)):Pr(e,{...t,fastpaths:!1});Q.scan=(e,t)=>cf(e,t);Q.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${e.output})${s}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let c=Q.toRegex(a,t);return n===!0&&(c.state=e),c};Q.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=Pr.fastpaths(e,t)),i.output||(i=Pr(e,t)),Q.compileRe(i,t,r,n)};Q.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Q.constants=lf;Cs.exports=Q});var Rs=R((Ld,Ls)=>{"use strict";Ls.exports=Is()});var Hs=R((Rd,ks)=>{"use strict";var Fs=require("util"),qs=hs(),gt=Rs(),Nr=pe(),Ms=e=>e===""||e==="./",W=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,s=0,a=g=>{o.add(g.output),r&&r.onResult&&r.onResult(g)};for(let g=0;g<t.length;g++){let A=gt(String(t[g]),{...r,onResult:a},!0),h=A.state.negated||A.state.negatedExtglob;h&&s++;for(let E of e){let m=A(E,!0);(h?!m.isMatch:m.isMatch)&&(h?n.add(m.output):(n.delete(m.output),i.add(m.output)))}}let y=(s===t.length?[...o]:[...i]).filter(g=>!n.has(g));if(r&&y.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(g=>g.replace(/\\/g,"")):t}return y};W.match=W;W.matcher=(e,t)=>gt(e,t);W.isMatch=(e,t,r)=>gt(t,r)(e);W.any=W.isMatch;W.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=W(e,t,{...r,onResult:a=>{r.onResult&&r.onResult(a),i.push(a.output)}});for(let a of i)s.includes(a)||n.add(a);return[...n]};W.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Fs.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>W.contains(e,n,r));if(typeof t=="string"){if(Ms(e)||Ms(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return W.isMatch(e,t,{...r,contains:!0})};W.matchKeys=(e,t,r)=>{if(!Nr.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=W(Object.keys(e),t,r),i={};for(let o of n)i[o]=e[o];return i};W.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=gt(String(i),r);if(n.some(s=>o(s)))return!0}return!1};W.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let o=gt(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};W.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Fs.inspect(e)}"`);return[].concat(t).every(n=>gt(n,r)(e))};W.capture=(e,t,r)=>{let n=Nr.isWindows(r),o=gt.makeRe(String(e),{...r,capture:!0}).exec(n?Nr.toPosixSlashes(t):t);if(o)return o.slice(1).map(s=>s===void 0?"":s)};W.makeRe=(...e)=>gt.makeRe(...e);W.scan=(...e)=>gt.scan(...e);W.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of qs(String(n),t))r.push(gt.parse(i,t));return r};W.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:qs(e,t)};W.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return W.braces(e,{...t,expand:!0})};ks.exports=W});var Ws=R($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.matchAny=$.convertPatternsToRe=$.makeRe=$.getPatternParts=$.expandBraceExpansion=$.expandPatternsWithBraceExpansion=$.isAffectDepthOfReadingPattern=$.endsWithSlashGlobStar=$.hasGlobStar=$.getBaseDirectory=$.isPatternRelatedToParentDirectory=$.getPatternsOutsideCurrentDirectory=$.getPatternsInsideCurrentDirectory=$.getPositivePatterns=$.getNegativePatterns=$.isPositivePattern=$.isNegativePattern=$.convertToNegativePattern=$.convertToPositivePattern=$.isDynamicPattern=$.isStaticPattern=void 0;var pf=require("path"),hf=Ni(),Cr=Hs(),Bs="**",df="\\",yf=/[*?]|^!/,mf=/\[[^[]*]/,gf=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,_f=/[!*+?@]\([^(]*\)/,Ef=/,|\.\./;function js(e,t={}){return!$s(e,t)}$.isStaticPattern=js;function $s(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(df)||yf.test(e)||mf.test(e)||gf.test(e)||t.extglob!==!1&&_f.test(e)||t.braceExpansion!==!1&&bf(e))}$.isDynamicPattern=$s;function bf(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return Ef.test(n)}function wf(e){return De(e)?e.slice(1):e}$.convertToPositivePattern=wf;function Tf(e){return"!"+e}$.convertToNegativePattern=Tf;function De(e){return e.startsWith("!")&&e[1]!=="("}$.isNegativePattern=De;function Xs(e){return!De(e)}$.isPositivePattern=Xs;function Af(e){return e.filter(De)}$.getNegativePatterns=Af;function Sf(e){return e.filter(Xs)}$.getPositivePatterns=Sf;function vf(e){return e.filter(t=>!Ir(t))}$.getPatternsInsideCurrentDirectory=vf;function Of(e){return e.filter(Ir)}$.getPatternsOutsideCurrentDirectory=Of;function Ir(e){return e.startsWith("..")||e.startsWith("./..")}$.isPatternRelatedToParentDirectory=Ir;function Df(e){return hf(e,{flipBackslashes:!1})}$.getBaseDirectory=Df;function Pf(e){return e.includes(Bs)}$.hasGlobStar=Pf;function Us(e){return e.endsWith("/"+Bs)}$.endsWithSlashGlobStar=Us;function xf(e){let t=pf.basename(e);return Us(e)||js(t)}$.isAffectDepthOfReadingPattern=xf;function Nf(e){return e.reduce((t,r)=>t.concat(Vs(r)),[])}$.expandPatternsWithBraceExpansion=Nf;function Vs(e){return Cr.braces(e,{expand:!0,nodupes:!0})}$.expandBraceExpansion=Vs;function Cf(e,t){let{parts:r}=Cr.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}$.getPatternParts=Cf;function Gs(e,t){return Cr.makeRe(e,t)}$.makeRe=Gs;function If(e,t){return e.map(r=>Gs(r,t))}$.convertPatternsToRe=If;function Lf(e,t){return t.some(r=>r.test(e))}$.matchAny=Lf});var Js=R((Fd,Qs)=>{"use strict";var Rf=require("stream"),Ys=Rf.PassThrough,Mf=Array.prototype.slice;Qs.exports=Ff;function Ff(){let e=[],t=Mf.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let s=Ys(n);function a(){for(let g=0,A=arguments.length;g<A;g++)e.push(Ks(arguments[g],n));return c(),this}function c(){if(r)return;r=!0;let g=e.shift();if(!g){process.nextTick(y);return}Array.isArray(g)||(g=[g]);let A=g.length+1;function h(){--A>0||(r=!1,c())}function E(m){function T(){m.removeListener("merge2UnpipeEnd",T),m.removeListener("end",T),o&&m.removeListener("error",I),h()}function I(C){s.emit("error",C)}if(m._readableState.endEmitted)return h();m.on("merge2UnpipeEnd",T),m.on("end",T),o&&m.on("error",I),m.pipe(s,{end:!1}),m.resume()}for(let m=0;m<g.length;m++)E(g[m]);h()}function y(){r=!1,s.emit("queueDrain"),i&&s.end()}return s.setMaxListeners(0),s.add=a,s.on("unpipe",function(g){g.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),s}function Ks(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=Ks(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(Ys(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var Zs=R(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.merge=void 0;var qf=Js();function kf(e){let t=qf(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>zs(e)),t.once("end",()=>zs(e)),t}Pe.merge=kf;function zs(e){e.forEach(t=>t.emit("close"))}});var to=R(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.isEmpty=te.isString=void 0;function Hf(e){return typeof e=="string"}te.isString=Hf;function Bf(e){return e===""}te.isEmpty=Bf});var St=R(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.string=it.stream=it.pattern=it.path=it.fs=it.errno=it.array=void 0;var jf=bi();it.array=jf;var $f=wi();it.errno=$f;var Xf=Ti();it.fs=Xf;var Uf=Ai();it.path=Uf;var Vf=Ws();it.pattern=Vf;var Gf=Zs();it.stream=Gf;var Wf=to();it.string=Wf});var no=R(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.convertPatternGroupToTask=st.convertPatternGroupsToTasks=st.groupPatternsByBaseDirectory=st.getNegativePatternsAsPositive=st.getPositivePatterns=st.convertPatternsToTasks=st.generate=void 0;var vt=St();function Yf(e,t){let r=eo(e),n=ro(e,t.ignore),i=r.filter(c=>vt.pattern.isStaticPattern(c,t)),o=r.filter(c=>vt.pattern.isDynamicPattern(c,t)),s=Lr(i,n,!1),a=Lr(o,n,!0);return s.concat(a)}st.generate=Yf;function Lr(e,t,r){let n=[],i=vt.pattern.getPatternsOutsideCurrentDirectory(e),o=vt.pattern.getPatternsInsideCurrentDirectory(e),s=Rr(i),a=Rr(o);return n.push(...Mr(s,t,r)),"."in a?n.push(Fr(".",o,t,r)):n.push(...Mr(a,t,r)),n}st.convertPatternsToTasks=Lr;function eo(e){return vt.pattern.getPositivePatterns(e)}st.getPositivePatterns=eo;function ro(e,t){return vt.pattern.getNegativePatterns(e).concat(t).map(vt.pattern.convertToPositivePattern)}st.getNegativePatternsAsPositive=ro;function Rr(e){let t={};return e.reduce((r,n)=>{let i=vt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}st.groupPatternsByBaseDirectory=Rr;function Mr(e,t,r){return Object.keys(e).map(n=>Fr(n,e[n],t,r))}st.convertPatternGroupsToTasks=Mr;function Fr(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(vt.pattern.convertToNegativePattern))}}st.convertPatternGroupToTask=Fr});var so=R(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.removeDuplicateSlashes=ee.transform=void 0;var Kf=/(?!^)\/{2,}/g;function Qf(e){return e.map(t=>io(t))}ee.transform=Qf;function io(e){return e.replace(Kf,"/")}ee.removeDuplicateSlashes=io});var ao=R(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.read=void 0;function Jf(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){oo(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){qr(r,i);return}t.fs.stat(e,(o,s)=>{if(o!==null){if(t.throwErrorOnBrokenSymbolicLink){oo(r,o);return}qr(r,i);return}t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),qr(r,s)})})}xe.read=Jf;function oo(e,t){e(t)}function qr(e,t){e(null,t)}});var uo=R(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.read=void 0;function zf(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Ne.read=zf});var co=R(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.createFileSystemAdapter=xt.FILE_SYSTEM_ADAPTER=void 0;var Ce=require("fs");xt.FILE_SYSTEM_ADAPTER={lstat:Ce.lstat,stat:Ce.stat,lstatSync:Ce.lstatSync,statSync:Ce.statSync};function Zf(e){return e===void 0?xt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},xt.FILE_SYSTEM_ADAPTER),e)}xt.createFileSystemAdapter=Zf});var lo=R(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});var tp=co(),kr=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=tp.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Hr.default=kr});var jt=R(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.statSync=Nt.stat=Nt.Settings=void 0;var fo=ao(),ep=uo(),Br=lo();Nt.Settings=Br.default;function rp(e,t,r){if(typeof t=="function"){fo.read(e,jr(),t);return}fo.read(e,jr(t),r)}Nt.stat=rp;function np(e,t){let r=jr(t);return ep.read(e,r)}Nt.statSync=np;function jr(e={}){return e instanceof Br.default?e:new Br.default(e)}});var yo=R((Wd,ho)=>{var po;ho.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(po||(po=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var go=R((Yd,mo)=>{mo.exports=sp;var ip=yo();function sp(e,t){let r,n,i,o=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function s(c){function y(){t&&t(c,r),t=null}o?ip(y):y()}function a(c,y,g){r[c]=g,(--n===0||y)&&s(y)}n?i?i.forEach(function(c){e[c](function(y,g){a(c,y,g)})}):e.forEach(function(c,y){c(function(g,A){a(y,g,A)})}):s(null),o=!1}});var $r=R(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Ie=process.versions.node.split(".");if(Ie[0]===void 0||Ie[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var _o=Number.parseInt(Ie[0],10),op=Number.parseInt(Ie[1],10),Eo=10,ap=10,up=_o>Eo,cp=_o===Eo&&op>=ap;Le.IS_SUPPORT_READDIR_WITH_FILE_TYPES=up||cp});var bo=R(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.createDirentFromStats=void 0;var Xr=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function lp(e,t){return new Xr(e,t)}Re.createDirentFromStats=lp});var Ur=R(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.fs=void 0;var fp=bo();Me.fs=fp});var Vr=R(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.joinPathSegments=void 0;function pp(e,t,r){return e.endsWith(r)?e+t:e+r+t}Fe.joinPathSegments=pp});var Oo=R(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.readdir=Ct.readdirWithFileTypes=Ct.read=void 0;var hp=jt(),wo=go(),dp=$r(),To=Ur(),Ao=Vr();function yp(e,t,r){if(!t.stats&&dp.IS_SUPPORT_READDIR_WITH_FILE_TYPES){So(e,t,r);return}vo(e,t,r)}Ct.read=yp;function So(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){qe(r,n);return}let o=i.map(a=>({dirent:a,name:a.name,path:Ao.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){Gr(r,o);return}let s=o.map(a=>mp(a,t));wo(s,(a,c)=>{if(a!==null){qe(r,a);return}Gr(r,c)})})}Ct.readdirWithFileTypes=So;function mp(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=To.fs.createDirentFromStats(e.name,i),r(null,e)})}}function vo(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){qe(r,n);return}let o=i.map(s=>{let a=Ao.joinPathSegments(e,s,t.pathSegmentSeparator);return c=>{hp.stat(a,t.fsStatSettings,(y,g)=>{if(y!==null){c(y);return}let A={name:s,path:a,dirent:To.fs.createDirentFromStats(s,g)};t.stats&&(A.stats=g),c(null,A)})}});wo(o,(s,a)=>{if(s!==null){qe(r,s);return}Gr(r,a)})})}Ct.readdir=vo;function qe(e,t){e(t)}function Gr(e,t){e(null,t)}});var Co=R(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.readdir=It.readdirWithFileTypes=It.read=void 0;var gp=jt(),_p=$r(),Do=Ur(),Po=Vr();function Ep(e,t){return!t.stats&&_p.IS_SUPPORT_READDIR_WITH_FILE_TYPES?xo(e,t):No(e,t)}It.read=Ep;function xo(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Po.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let o=t.fs.statSync(i.path);i.dirent=Do.fs.createDirentFromStats(i.name,o)}catch(o){if(t.throwErrorOnBrokenSymbolicLink)throw o}return i})}It.readdirWithFileTypes=xo;function No(e,t){return t.fs.readdirSync(e).map(n=>{let i=Po.joinPathSegments(e,n,t.pathSegmentSeparator),o=gp.statSync(i,t.fsStatSettings),s={name:n,path:i,dirent:Do.fs.createDirentFromStats(n,o)};return t.stats&&(s.stats=o),s})}It.readdir=No});var Io=R(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.createFileSystemAdapter=Lt.FILE_SYSTEM_ADAPTER=void 0;var re=require("fs");Lt.FILE_SYSTEM_ADAPTER={lstat:re.lstat,stat:re.stat,lstatSync:re.lstatSync,statSync:re.statSync,readdir:re.readdir,readdirSync:re.readdirSync};function bp(e){return e===void 0?Lt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Lt.FILE_SYSTEM_ADAPTER),e)}Lt.createFileSystemAdapter=bp});var Lo=R(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var wp=require("path"),Tp=jt(),Ap=Io(),Wr=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=Ap.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,wp.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new Tp.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};Yr.default=Wr});var ke=R(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.Settings=Rt.scandirSync=Rt.scandir=void 0;var Ro=Oo(),Sp=Co(),Kr=Lo();Rt.Settings=Kr.default;function vp(e,t,r){if(typeof t=="function"){Ro.read(e,Qr(),t);return}Ro.read(e,Qr(t),r)}Rt.scandir=vp;function Op(e,t){let r=Qr(t);return Sp.read(e,r)}Rt.scandirSync=Op;function Qr(e={}){return e instanceof Kr.default?e:new Kr.default(e)}});var Fo=R((iy,Mo)=>{"use strict";function Dp(e){var t=new e,r=t;function n(){var o=t;return o.next?t=o.next:(t=new e,r=t),o.next=null,o}function i(o){r.next=o,r=o}return{get:n,release:i}}Mo.exports=Dp});var ko=R((sy,Jr)=>{"use strict";var Pp=Fo();function qo(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Pp(xp),i=null,o=null,s=0,a=null,c={push:T,drain:ht,saturated:ht,pause:g,paused:!1,concurrency:r,running:y,resume:E,idle:m,length:A,getQueue:h,unshift:I,empty:ht,kill:P,killAndDrain:b,error:p};return c;function y(){return s}function g(){c.paused=!0}function A(){for(var u=i,_=0;u;)u=u.next,_++;return _}function h(){for(var u=i,_=[];u;)_.push(u.value),u=u.next;return _}function E(){if(c.paused){c.paused=!1;for(var u=0;u<c.concurrency;u++)s++,C()}}function m(){return s===0&&c.length()===0}function T(u,_){var D=n.get();D.context=e,D.release=C,D.value=u,D.callback=_||ht,D.errorHandler=a,s===c.concurrency||c.paused?o?(o.next=D,o=D):(i=D,o=D,c.saturated()):(s++,t.call(e,D.value,D.worked))}function I(u,_){var D=n.get();D.context=e,D.release=C,D.value=u,D.callback=_||ht,s===c.concurrency||c.paused?i?(D.next=i,i=D):(i=D,o=D,c.saturated()):(s++,t.call(e,D.value,D.worked))}function C(u){u&&n.release(u);var _=i;_?c.paused?s--:(o===i&&(o=null),i=_.next,_.next=null,t.call(e,_.value,_.worked),o===null&&c.empty()):--s===0&&c.drain()}function P(){i=null,o=null,c.drain=ht}function b(){i=null,o=null,c.drain(),c.drain=ht}function p(u){a=u}}function ht(){}function xp(){this.value=null,this.callback=ht,this.next=null,this.release=ht,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,o=e.errorHandler,s=e.value;e.value=null,e.callback=ht,e.errorHandler&&o(r,s),i.call(e.context,r,n),e.release(e)}}function Np(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(g,A){t.call(this,g).then(function(h){A(null,h)},A)}var i=qo(e,n,r),o=i.push,s=i.unshift;return i.push=a,i.unshift=c,i.drained=y,i;function a(g){var A=new Promise(function(h,E){o(g,function(m,T){if(m){E(m);return}h(T)})});return A.catch(ht),A}function c(g){var A=new Promise(function(h,E){s(g,function(m,T){if(m){E(m);return}h(T)})});return A.catch(ht),A}function y(){var g=i.drain,A=new Promise(function(h){i.drain=function(){g(),h()}});return A}}Jr.exports=qo;Jr.exports.promise=Np});var He=R(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.joinPathSegments=_t.replacePathSegmentSeparator=_t.isAppliedFilter=_t.isFatalError=void 0;function Cp(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}_t.isFatalError=Cp;function Ip(e,t){return e===null||e(t)}_t.isAppliedFilter=Ip;function Lp(e,t){return e.split(/[/\\]/).join(t)}_t.replacePathSegmentSeparator=Lp;function Rp(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}_t.joinPathSegments=Rp});var tn=R(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});var Mp=He(),zr=class{constructor(t,r){this._root=t,this._settings=r,this._root=Mp.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};Zr.default=zr});var nn=R(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});var Fp=require("events"),qp=ke(),kp=ko(),Be=He(),Hp=tn(),en=class extends Hp.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=qp.scandir,this._emitter=new Fp.EventEmitter,this._queue=kp(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let o of i)this._handleEntry(o,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Be.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Be.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Be.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Be.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};rn.default=en});var Ho=R(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});var Bp=nn(),sn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Bp.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{jp(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{$p(t,this._storage)}),this._reader.read()}};on.default=sn;function jp(e,t){e(t)}function $p(e,t){e(null,t)}});var Bo=R(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});var Xp=require("stream"),Up=nn(),an=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Up.default(this._root,this._settings),this._stream=new Xp.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};un.default=an});var jo=R(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});var Vp=ke(),je=He(),Gp=tn(),cn=class extends Gp.default{constructor(){super(...arguments),this._scandir=Vp.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(je.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=je.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),je.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&je.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};ln.default=cn});var $o=R(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});var Wp=jo(),fn=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new Wp.default(this._root,this._settings)}read(){return this._reader.read()}};pn.default=fn});var Xo=R(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});var Yp=require("path"),Kp=ke(),hn=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,Yp.sep),this.fsScandirSettings=new Kp.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};dn.default=hn});var Xe=R(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.Settings=Et.walkStream=Et.walkSync=Et.walk=void 0;var Uo=Ho(),Qp=Bo(),Jp=$o(),yn=Xo();Et.Settings=yn.default;function zp(e,t,r){if(typeof t=="function"){new Uo.default(e,$e()).read(t);return}new Uo.default(e,$e(t)).read(r)}Et.walk=zp;function Zp(e,t){let r=$e(t);return new Jp.default(e,r).read()}Et.walkSync=Zp;function th(e,t){let r=$e(t);return new Qp.default(e,r).read()}Et.walkStream=th;function $e(e={}){return e instanceof yn.default?e:new yn.default(e)}});var Ue=R(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});var eh=require("path"),rh=jt(),Vo=St(),mn=class{constructor(t){this._settings=t,this._fsStatSettings=new rh.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return eh.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:Vo.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!Vo.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};gn.default=mn});var bn=R(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});var nh=require("stream"),ih=jt(),sh=Xe(),oh=Ue(),_n=class extends oh.default{constructor(){super(...arguments),this._walkStream=sh.walkStream,this._stat=ih.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new nh.PassThrough({objectMode:!0});i._write=(o,s,a)=>this._getEntry(n[o],t[o],r).then(c=>{c!==null&&r.entryFilter(c)&&i.push(c),o===n.length-1&&i.end(),a()}).catch(a);for(let o=0;o<n.length;o++)i.write(o);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,o)=>i===null?r(o):n(i))})}};En.default=_n});var Go=R(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});var ah=Xe(),uh=Ue(),ch=bn(),wn=class extends uh.default{constructor(){super(...arguments),this._walkAsync=ah.walk,this._readerStream=new ch.default(this._settings)}dynamic(t,r){return new Promise((n,i)=>{this._walkAsync(t,r,(o,s)=>{o===null?n(s):i(o)})})}async static(t,r){let n=[],i=this._readerStream.static(t,r);return new Promise((o,s)=>{i.once("error",s),i.on("data",a=>n.push(a)),i.once("end",()=>o(n))})}};Tn.default=wn});var Wo=R(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});var ne=St(),An=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=ne.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return ne.pattern.getPatternParts(t,this._micromatchOptions).map(n=>ne.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:ne.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return ne.array.splitWhen(t,r=>r.dynamic&&ne.pattern.hasGlobStar(r.pattern))}};Sn.default=An});var Yo=R(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});var lh=Wo(),vn=class extends lh.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of i){let s=o.sections[0];if(!o.complete&&n>s.length||r.every((c,y)=>{let g=o.segments[y];return!!(g.dynamic&&g.patternRe.test(c)||!g.dynamic&&g.pattern===c)}))return!0}return!1}};On.default=vn});var Ko=R(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});var Ve=St(),fh=Yo(),Dn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),o=this._getNegativePatternsRe(n);return s=>this._filter(t,s,i,o)}_getMatcher(t){return new fh.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(Ve.pattern.isAffectDepthOfReadingPattern);return Ve.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=Ve.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!Ve.pattern.matchAny(t,r)}};Pn.default=Dn});var Qo=R(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var $t=St(),xn=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=$t.pattern.convertPatternsToRe(t,this._micromatchOptions),i=$t.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),s=this._isMatchToPatterns(i,r,o)&&!this._isMatchToPatterns(t.path,n,o);return this._settings.unique&&s&&this._createIndexRecord(t),s}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=$t.path.makeAbsolute(this._settings.cwd,t);return $t.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let i=$t.path.removeLeadingDotSegment(t),o=$t.pattern.matchAny(i,r);return!o&&n?$t.pattern.matchAny(i+"/",r):o}};Nn.default=xn});var Jo=R(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});var ph=St(),Cn=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return ph.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};In.default=Cn});var Zo=R(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var zo=St(),Ln=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=zo.path.makeAbsolute(this._settings.cwd,r),r=zo.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Rn.default=Ln});var Ge=R(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});var hh=require("path"),dh=Ko(),yh=Qo(),mh=Jo(),gh=Zo(),Mn=class{constructor(t){this._settings=t,this.errorFilter=new mh.default(this._settings),this.entryFilter=new yh.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new dh.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new gh.default(this._settings)}_getRootDirectory(t){return hh.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Fn.default=Mn});var ta=R(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});var _h=Go(),Eh=Ge(),qn=class extends Eh.default{constructor(){super(...arguments),this._reader=new _h.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(o=>n.transform(o))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};kn.default=qn});var ea=R(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});var bh=require("stream"),wh=bn(),Th=Ge(),Hn=class extends Th.default{constructor(){super(...arguments),this._reader=new wh.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),o=new bh.Readable({objectMode:!0,read:()=>{}});return i.once("error",s=>o.emit("error",s)).on("data",s=>o.emit("data",n.transform(s))).once("end",()=>o.emit("end")),o.once("close",()=>i.destroy()),o}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Bn.default=Hn});var ra=R($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});var Ah=jt(),Sh=Xe(),vh=Ue(),jn=class extends vh.default{constructor(){super(...arguments),this._walkSync=Sh.walkSync,this._statSync=Ah.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let o=this._getFullEntryPath(i),s=this._getEntry(o,i,r);s===null||!r.entryFilter(s)||n.push(s)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};$n.default=jn});var na=R(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});var Oh=ra(),Dh=Ge(),Xn=class extends Dh.default{constructor(){super(...arguments),this._reader=new Oh.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Un.default=Xn});var ia=R(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var ie=require("fs"),Ph=require("os"),xh=Math.max(Ph.cpus().length,1);se.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:ie.lstat,lstatSync:ie.lstatSync,stat:ie.stat,statSync:ie.statSync,readdir:ie.readdir,readdirSync:ie.readdirSync};var Vn=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,xh),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},se.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};se.default=Vn});var ua=R((Ny,aa)=>{"use strict";var sa=no(),oa=so(),Nh=ta(),Ch=ea(),Ih=na(),Gn=ia(),Xt=St();async function Wn(e,t){oe(e);let r=Yn(e,Nh.default,t),n=await Promise.all(r);return Xt.array.flatten(n)}(function(e){function t(s,a){oe(s);let c=Yn(s,Ih.default,a);return Xt.array.flatten(c)}e.sync=t;function r(s,a){oe(s);let c=Yn(s,Ch.default,a);return Xt.stream.merge(c)}e.stream=r;function n(s,a){oe(s);let c=oa.transform([].concat(s)),y=new Gn.default(a);return sa.generate(c,y)}e.generateTasks=n;function i(s,a){oe(s);let c=new Gn.default(a);return Xt.pattern.isDynamicPattern(s,c)}e.isDynamicPattern=i;function o(s){return oe(s),Xt.path.escape(s)}e.escapePath=o})(Wn||(Wn={}));function Yn(e,t,r){let n=oa.transform([].concat(e)),i=new Gn.default(r),o=sa.generate(n,i),s=new t(i);return o.map(s.read,s)}function oe(e){if(![].concat(e).every(n=>Xt.string.isString(n)&&!Xt.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}aa.exports=Wn});var We=R(Kn=>{(function(){Kn.defaults={"0.1":{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},"0.2":{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:`
`},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(Kn)});var bt=R((ca,Mt)=>{(function(){var e,t,r,n,i,o,s,a=[].slice,c={}.hasOwnProperty;e=function(){var y,g,A,h,E,m;if(m=arguments[0],E=2<=arguments.length?a.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(y=0,A=E.length;y<A;y++)if(h=E[y],h!=null)for(g in h)c.call(h,g)&&(m[g]=h[g]);return m},i=function(y){return!!y&&Object.prototype.toString.call(y)==="[object Function]"},o=function(y){var g;return!!y&&((g=typeof y)=="function"||g==="object")},r=function(y){return i(Array.isArray)?Array.isArray(y):Object.prototype.toString.call(y)==="[object Array]"},n=function(y){var g;if(r(y))return!y.length;for(g in y)if(c.call(y,g))return!1;return!0},s=function(y){var g,A;return o(y)&&(A=Object.getPrototypeOf(y))&&(g=A.constructor)&&typeof g=="function"&&g instanceof g&&Function.prototype.toString.call(g)===Function.prototype.toString.call(Object)},t=function(y){return i(y.valueOf)?y.valueOf():y},Mt.exports.assign=e,Mt.exports.isFunction=i,Mt.exports.isObject=o,Mt.exports.isArray=r,Mt.exports.isEmpty=n,Mt.exports.isPlainObject=s,Mt.exports.getValue=t}).call(ca)});var Qn=R((la,fa)=>{(function(){var e;fa.exports=e=function(){function t(){}return t.prototype.hasFeature=function(r,n){return!0},t.prototype.createDocumentType=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(r,n,i){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(la)});var da=R((pa,ha)=>{(function(){var e;ha.exports=e=function(){function t(){}return t.prototype.handleError=function(r){throw new Error(r)},t}()}).call(pa)});var ga=R((ya,ma)=>{(function(){var e;ma.exports=e=function(){function t(r){this.arr=r||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(r){return this.arr[r]||null},t.prototype.contains=function(r){return this.arr.indexOf(r)!==-1},t}()}).call(ya)});var ba=R((_a,Ea)=>{(function(){var e,t,r;t=da(),r=ga(),Ea.exports=e=function(){function n(){var i;this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=i=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(i){return this.params.hasOwnProperty(i)?this.params[i]:null},n.prototype.canSetParameter=function(i,o){return!0},n.prototype.setParameter=function(i,o){return o!=null?this.params[i]=o:delete this.params[i]},n}()}).call(_a)});var J=R((wa,Ta)=>{(function(){Ta.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(wa)});var Jn=R((Aa,Sa)=>{(function(){var e,t,r;e=J(),r=ft(),Sa.exports=t=function(){function n(i,o,s){if(this.parent=i,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));this.name=this.stringify.name(o),this.value=this.stringify.attValue(s),this.type=e.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(i){return this.value=i||""}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"specified",{get:function(){return!0}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(i){return this.options.writer.attribute(this,this.options.writer.filterOptions(i))},n.prototype.debugInfo=function(i){return i=i||this.name,i==null?"parent: <"+this.parent.name+">":"attribute: {"+i+"}, parent: <"+this.parent.name+">"},n.prototype.isEqualNode=function(i){return!(i.namespaceURI!==this.namespaceURI||i.prefix!==this.prefix||i.localName!==this.localName||i.value!==this.value)},n}()}).call(Aa)});var Ye=R((va,Oa)=>{(function(){var e;Oa.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(r){return this.nodes[r]},t.prototype.setNamedItem=function(r){var n;return n=this.nodes[r.nodeName],this.nodes[r.nodeName]=r,n||null},t.prototype.removeNamedItem=function(r){var n;return n=this.nodes[r],delete this.nodes[r],n||null},t.prototype.item=function(r){return this.nodes[Object.keys(this.nodes)[r]]||null},t.prototype.getNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(r){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(r,n){throw new Error("This DOM method is not implemented.")},t}()}).call(va)});var Ke=R((Da,Pa)=>{(function(){var e,t,r,n,i,o,s,a,c,y=function(A,h){for(var E in h)g.call(h,E)&&(A[E]=h[E]);function m(){this.constructor=A}return m.prototype=h.prototype,A.prototype=new m,A.__super__=h.prototype,A},g={}.hasOwnProperty;c=bt(),a=c.isObject,s=c.isFunction,o=c.getValue,i=ft(),e=J(),t=Jn(),n=Ye(),Pa.exports=r=function(A){y(h,A);function h(E,m,T){var I,C,P,b;if(h.__super__.constructor.call(this,E),m==null)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(m),this.type=e.Element,this.attribs={},this.schemaTypeInfo=null,T!=null&&this.attribute(T),E.type===e.Document&&(this.isRoot=!0,this.documentObject=E,E.rootObject=this,E.children)){for(b=E.children,C=0,P=b.length;C<P;C++)if(I=b[C],I.type===e.DocType){I.name=this.name;break}}}return Object.defineProperty(h.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(h.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(h.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(h.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(h.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(h.prototype,"attributes",{get:function(){return(!this.attributeMap||!this.attributeMap.nodes)&&(this.attributeMap=new n(this.attribs)),this.attributeMap}}),h.prototype.clone=function(){var E,m,T,I;T=Object.create(this),T.isRoot&&(T.documentObject=null),T.attribs={},I=this.attribs;for(m in I)g.call(I,m)&&(E=I[m],T.attribs[m]=E.clone());return T.children=[],this.children.forEach(function(C){var P;return P=C.clone(),P.parent=T,T.children.push(P)}),T},h.prototype.attribute=function(E,m){var T,I;if(E!=null&&(E=o(E)),a(E))for(T in E)g.call(E,T)&&(I=E[T],this.attribute(T,I));else s(m)&&(m=m.apply()),this.options.keepNullAttributes&&m==null?this.attribs[E]=new t(this,E,""):m!=null&&(this.attribs[E]=new t(this,E,m));return this},h.prototype.removeAttribute=function(E){var m,T,I;if(E==null)throw new Error("Missing attribute name. "+this.debugInfo());if(E=o(E),Array.isArray(E))for(T=0,I=E.length;T<I;T++)m=E[T],delete this.attribs[m];else delete this.attribs[E];return this},h.prototype.toString=function(E){return this.options.writer.element(this,this.options.writer.filterOptions(E))},h.prototype.att=function(E,m){return this.attribute(E,m)},h.prototype.a=function(E,m){return this.attribute(E,m)},h.prototype.getAttribute=function(E){return this.attribs.hasOwnProperty(E)?this.attribs[E].value:null},h.prototype.setAttribute=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNode=function(E){return this.attribs.hasOwnProperty(E)?this.attribs[E]:null},h.prototype.setAttributeNode=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.removeAttributeNode=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagName=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setAttributeNS=function(E,m,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.removeAttributeNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getAttributeNodeNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setAttributeNodeNS=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagNameNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.hasAttribute=function(E){return this.attribs.hasOwnProperty(E)},h.prototype.hasAttributeNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setIdAttribute=function(E,m){return this.attribs.hasOwnProperty(E)?this.attribs[E].isId:m},h.prototype.setIdAttributeNS=function(E,m,T){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.setIdAttributeNode=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagName=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByTagNameNS=function(E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.getElementsByClassName=function(E){throw new Error("This DOM method is not implemented."+this.debugInfo())},h.prototype.isEqualNode=function(E){var m,T,I;if(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(E)||E.namespaceURI!==this.namespaceURI||E.prefix!==this.prefix||E.localName!==this.localName||E.attribs.length!==this.attribs.length)return!1;for(m=T=0,I=this.attribs.length-1;0<=I?T<=I:T>=I;m=0<=I?++T:--T)if(!this.attribs[m].isEqualNode(E.attribs[m]))return!1;return!0},h}(i)}).call(Da)});var de=R((xa,Na)=>{(function(){var e,t,r=function(i,o){for(var s in o)n.call(o,s)&&(i[s]=o[s]);function a(){this.constructor=i}return a.prototype=o.prototype,i.prototype=new a,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=ft(),Na.exports=e=function(i){r(o,i);function o(s){o.__super__.constructor.call(this,s),this.value=""}return Object.defineProperty(o.prototype,"data",{get:function(){return this.value},set:function(s){return this.value=s||""}}),Object.defineProperty(o.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(s){return this.value=s||""}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.substringData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.appendData=function(s){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.insertData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.deleteData=function(s,a){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.replaceData=function(s,a,c){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(s){return!(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(s)||s.data!==this.data)},o}(t)}).call(xa)});var Qe=R((Ca,Ia)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=J(),r=de(),Ia.exports=t=function(o){n(s,o);function s(a,c){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=e.CData,this.value=this.stringify.cdata(c)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.cdata(this,this.options.writer.filterOptions(a))},s}(r)}).call(Ca)});var Je=R((La,Ra)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=J(),t=de(),Ra.exports=r=function(o){n(s,o);function s(a,c){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=e.Comment,this.value=this.stringify.comment(c)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.comment(this,this.options.writer.filterOptions(a))},s}(t)}).call(La)});var ze=R((Ma,Fa)=>{(function(){var e,t,r,n,i=function(s,a){for(var c in a)o.call(a,c)&&(s[c]=a[c]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;n=bt().isObject,r=ft(),e=J(),Fa.exports=t=function(s){i(a,s);function a(c,y,g,A){var h;a.__super__.constructor.call(this,c),n(y)&&(h=y,y=h.version,g=h.encoding,A=h.standalone),y||(y="1.0"),this.type=e.Declaration,this.version=this.stringify.xmlVersion(y),g!=null&&(this.encoding=this.stringify.xmlEncoding(g)),A!=null&&(this.standalone=this.stringify.xmlStandalone(A))}return a.prototype.toString=function(c){return this.options.writer.declaration(this,this.options.writer.filterOptions(c))},a}(r)}).call(Ma)});var Ze=R((qa,ka)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=J(),ka.exports=t=function(o){n(s,o);function s(a,c,y,g,A,h){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(y==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(c));if(!g)throw new Error("Missing DTD attribute type. "+this.debugInfo(c));if(!A)throw new Error("Missing DTD attribute default. "+this.debugInfo(c));if(A.indexOf("#")!==0&&(A="#"+A),!A.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(c));if(h&&!A.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(c));this.elementName=this.stringify.name(c),this.type=e.AttributeDeclaration,this.attributeName=this.stringify.name(y),this.attributeType=this.stringify.dtdAttType(g),h&&(this.defaultValue=this.stringify.dtdAttDefault(h)),this.defaultValueType=A}return s.prototype.toString=function(a){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(a))},s}(r)}).call(qa)});var tr=R((Ha,Ba)=>{(function(){var e,t,r,n,i=function(s,a){for(var c in a)o.call(a,c)&&(s[c]=a[c]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;n=bt().isObject,r=ft(),e=J(),Ba.exports=t=function(s){i(a,s);function a(c,y,g,A){if(a.__super__.constructor.call(this,c),g==null)throw new Error("Missing DTD entity name. "+this.debugInfo(g));if(A==null)throw new Error("Missing DTD entity value. "+this.debugInfo(g));if(this.pe=!!y,this.name=this.stringify.name(g),this.type=e.EntityDeclaration,!n(A))this.value=this.stringify.dtdEntityValue(A),this.internal=!0;else{if(!A.pubID&&!A.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(g));if(A.pubID&&!A.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(g));if(this.internal=!1,A.pubID!=null&&(this.pubID=this.stringify.dtdPubID(A.pubID)),A.sysID!=null&&(this.sysID=this.stringify.dtdSysID(A.sysID)),A.nData!=null&&(this.nData=this.stringify.dtdNData(A.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(g))}}return Object.defineProperty(a.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(a.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(a.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(a.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(a.prototype,"xmlVersion",{get:function(){return null}}),a.prototype.toString=function(c){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(c))},a}(r)}).call(Ha)});var er=R((ja,$a)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=J(),$a.exports=t=function(o){n(s,o);function s(a,c,y){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD element name. "+this.debugInfo());y||(y="(#PCDATA)"),Array.isArray(y)&&(y="("+y.join(",")+")"),this.name=this.stringify.name(c),this.type=e.ElementDeclaration,this.value=this.stringify.dtdElementValue(y)}return s.prototype.toString=function(a){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(a))},s}(r)}).call(ja)});var rr=R((Xa,Ua)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=J(),Ua.exports=t=function(o){n(s,o);function s(a,c,y){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing DTD notation name. "+this.debugInfo(c));if(!y.pubID&&!y.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(c));this.name=this.stringify.name(c),this.type=e.NotationDeclaration,y.pubID!=null&&(this.pubID=this.stringify.dtdPubID(y.pubID)),y.sysID!=null&&(this.sysID=this.stringify.dtdSysID(y.sysID))}return Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),s.prototype.toString=function(a){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(a))},s}(r)}).call(Xa)});var nr=R((Va,Ga)=>{(function(){var e,t,r,n,i,o,s,a,c,y=function(A,h){for(var E in h)g.call(h,E)&&(A[E]=h[E]);function m(){this.constructor=A}return m.prototype=h.prototype,A.prototype=new m,A.__super__=h.prototype,A},g={}.hasOwnProperty;c=bt().isObject,a=ft(),e=J(),t=Ze(),n=tr(),r=er(),i=rr(),s=Ye(),Ga.exports=o=function(A){y(h,A);function h(E,m,T){var I,C,P,b,p,u;if(h.__super__.constructor.call(this,E),this.type=e.DocType,E.children){for(b=E.children,C=0,P=b.length;C<P;C++)if(I=b[C],I.type===e.Element){this.name=I.name;break}}this.documentObject=E,c(m)&&(p=m,m=p.pubID,T=p.sysID),T==null&&(u=[m,T],T=u[0],m=u[1]),m!=null&&(this.pubID=this.stringify.dtdPubID(m)),T!=null&&(this.sysID=this.stringify.dtdSysID(T))}return Object.defineProperty(h.prototype,"entities",{get:function(){var E,m,T,I,C;for(I={},C=this.children,m=0,T=C.length;m<T;m++)E=C[m],E.type===e.EntityDeclaration&&!E.pe&&(I[E.name]=E);return new s(I)}}),Object.defineProperty(h.prototype,"notations",{get:function(){var E,m,T,I,C;for(I={},C=this.children,m=0,T=C.length;m<T;m++)E=C[m],E.type===e.NotationDeclaration&&(I[E.name]=E);return new s(I)}}),Object.defineProperty(h.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(h.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(h.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),h.prototype.element=function(E,m){var T;return T=new r(this,E,m),this.children.push(T),this},h.prototype.attList=function(E,m,T,I,C){var P;return P=new t(this,E,m,T,I,C),this.children.push(P),this},h.prototype.entity=function(E,m){var T;return T=new n(this,!1,E,m),this.children.push(T),this},h.prototype.pEntity=function(E,m){var T;return T=new n(this,!0,E,m),this.children.push(T),this},h.prototype.notation=function(E,m){var T;return T=new i(this,E,m),this.children.push(T),this},h.prototype.toString=function(E){return this.options.writer.docType(this,this.options.writer.filterOptions(E))},h.prototype.ele=function(E,m){return this.element(E,m)},h.prototype.att=function(E,m,T,I,C){return this.attList(E,m,T,I,C)},h.prototype.ent=function(E,m){return this.entity(E,m)},h.prototype.pent=function(E,m){return this.pEntity(E,m)},h.prototype.not=function(E,m){return this.notation(E,m)},h.prototype.up=function(){return this.root()||this.documentObject},h.prototype.isEqualNode=function(E){return!(!h.__super__.isEqualNode.apply(this,arguments).isEqualNode(E)||E.name!==this.name||E.publicId!==this.publicId||E.systemId!==this.systemId)},h}(a)}).call(Va)});var ir=R((Wa,Ya)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=J(),t=ft(),Ya.exports=r=function(o){n(s,o);function s(a,c){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing raw text. "+this.debugInfo());this.type=e.Raw,this.value=this.stringify.raw(c)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.raw(this,this.options.writer.filterOptions(a))},s}(t)}).call(Wa)});var sr=R((Ka,Qa)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=J(),t=de(),Qa.exports=r=function(o){n(s,o);function s(a,c){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=e.Text,this.value=this.stringify.text(c)}return Object.defineProperty(s.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(s.prototype,"wholeText",{get:function(){var a,c,y;for(y="",c=this.previousSibling;c;)y=c.data+y,c=c.previousSibling;for(y+=this.data,a=this.nextSibling;a;)y=y+a.data,a=a.nextSibling;return y}}),s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.text(this,this.options.writer.filterOptions(a))},s.prototype.splitText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s.prototype.replaceWholeText=function(a){throw new Error("This DOM method is not implemented."+this.debugInfo())},s}(t)}).call(Ka)});var or=R((Ja,za)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;e=J(),t=de(),za.exports=r=function(o){n(s,o);function s(a,c,y){if(s.__super__.constructor.call(this,a),c==null)throw new Error("Missing instruction target. "+this.debugInfo());this.type=e.ProcessingInstruction,this.target=this.stringify.insTarget(c),this.name=this.target,y&&(this.value=this.stringify.insValue(y))}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(a))},s.prototype.isEqualNode=function(a){return!(!s.__super__.isEqualNode.apply(this,arguments).isEqualNode(a)||a.target!==this.target)},s}(t)}).call(Ja)});var zn=R((Za,tu)=>{(function(){var e,t,r,n=function(o,s){for(var a in s)i.call(s,a)&&(o[a]=s[a]);function c(){this.constructor=o}return c.prototype=s.prototype,o.prototype=new c,o.__super__=s.prototype,o},i={}.hasOwnProperty;r=ft(),e=J(),tu.exports=t=function(o){n(s,o);function s(a){s.__super__.constructor.call(this,a),this.type=e.Dummy}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return""},s}(r)}).call(Za)});var nu=R((eu,ru)=>{(function(){var e;ru.exports=e=function(){function t(r){this.nodes=r}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(r){return this.nodes[r]||null},t}()}).call(eu)});var ou=R((iu,su)=>{(function(){su.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(iu)});var ft=R((au,uu)=>{(function(){var e,t,r,n,i,o,s,a,c,y,g,A,h,E,m,T,I,C,P,b={}.hasOwnProperty;P=bt(),C=P.isObject,I=P.isFunction,T=P.isEmpty,m=P.getValue,a=null,r=null,n=null,i=null,o=null,h=null,E=null,A=null,s=null,t=null,g=null,c=null,e=null,uu.exports=y=function(){function p(u){this.parent=u,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,a||(a=Ke(),r=Qe(),n=Je(),i=ze(),o=nr(),h=ir(),E=sr(),A=or(),s=zn(),t=J(),g=nu(),c=Ye(),e=ou())}return Object.defineProperty(p.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(p.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(p.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(p.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(p.prototype,"childNodes",{get:function(){return(!this.childNodeList||!this.childNodeList.nodes)&&(this.childNodeList=new g(this.children)),this.childNodeList}}),Object.defineProperty(p.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(p.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(p.prototype,"previousSibling",{get:function(){var u;return u=this.parent.children.indexOf(this),this.parent.children[u-1]||null}}),Object.defineProperty(p.prototype,"nextSibling",{get:function(){var u;return u=this.parent.children.indexOf(this),this.parent.children[u+1]||null}}),Object.defineProperty(p.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(p.prototype,"textContent",{get:function(){var u,_,D,f,x;if(this.nodeType===t.Element||this.nodeType===t.DocumentFragment){for(x="",f=this.children,_=0,D=f.length;_<D;_++)u=f[_],u.textContent&&(x+=u.textContent);return x}else return null},set:function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),p.prototype.setParent=function(u){var _,D,f,x,v;for(this.parent=u,u&&(this.options=u.options,this.stringify=u.stringify),x=this.children,v=[],D=0,f=x.length;D<f;D++)_=x[D],v.push(_.setParent(this));return v},p.prototype.element=function(u,_,D){var f,x,v,w,L,F,j,N,O,U,k;if(F=null,_===null&&D==null&&(O=[{},null],_=O[0],D=O[1]),_==null&&(_={}),_=m(_),C(_)||(U=[_,D],D=U[0],_=U[1]),u!=null&&(u=m(u)),Array.isArray(u))for(v=0,j=u.length;v<j;v++)x=u[v],F=this.element(x);else if(I(u))F=this.element(u.apply());else if(C(u)){for(L in u)if(b.call(u,L))if(k=u[L],I(k)&&(k=k.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&L.indexOf(this.stringify.convertAttKey)===0)F=this.attribute(L.substr(this.stringify.convertAttKey.length),k);else if(!this.options.separateArrayItems&&Array.isArray(k)&&T(k))F=this.dummy();else if(C(k)&&T(k))F=this.element(L);else if(!this.options.keepNullNodes&&k==null)F=this.dummy();else if(!this.options.separateArrayItems&&Array.isArray(k))for(w=0,N=k.length;w<N;w++)x=k[w],f={},f[L]=x,F=this.element(f);else C(k)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&L.indexOf(this.stringify.convertTextKey)===0?F=this.element(k):(F=this.element(L),F.element(k)):F=this.element(L,k)}else!this.options.keepNullNodes&&D===null?F=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&u.indexOf(this.stringify.convertTextKey)===0?F=this.text(D):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&u.indexOf(this.stringify.convertCDataKey)===0?F=this.cdata(D):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&u.indexOf(this.stringify.convertCommentKey)===0?F=this.comment(D):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&u.indexOf(this.stringify.convertRawKey)===0?F=this.raw(D):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&u.indexOf(this.stringify.convertPIKey)===0?F=this.instruction(u.substr(this.stringify.convertPIKey.length),D):F=this.node(u,_,D);if(F==null)throw new Error("Could not create any elements with: "+u+". "+this.debugInfo());return F},p.prototype.insertBefore=function(u,_,D){var f,x,v,w,L;if(u?.type)return v=u,w=_,v.setParent(this),w?(x=children.indexOf(w),L=children.splice(x),children.push(v),Array.prototype.push.apply(children,L)):children.push(v),v;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(u));return x=this.parent.children.indexOf(this),L=this.parent.children.splice(x),f=this.parent.element(u,_,D),Array.prototype.push.apply(this.parent.children,L),f},p.prototype.insertAfter=function(u,_,D){var f,x,v;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(u));return x=this.parent.children.indexOf(this),v=this.parent.children.splice(x+1),f=this.parent.element(u,_,D),Array.prototype.push.apply(this.parent.children,v),f},p.prototype.remove=function(){var u,_;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return u=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[u,u-u+1].concat(_=[])),this.parent},p.prototype.node=function(u,_,D){var f,x;return u!=null&&(u=m(u)),_||(_={}),_=m(_),C(_)||(x=[_,D],D=x[0],_=x[1]),f=new a(this,u,_),D!=null&&f.text(D),this.children.push(f),f},p.prototype.text=function(u){var _;return C(u)&&this.element(u),_=new E(this,u),this.children.push(_),this},p.prototype.cdata=function(u){var _;return _=new r(this,u),this.children.push(_),this},p.prototype.comment=function(u){var _;return _=new n(this,u),this.children.push(_),this},p.prototype.commentBefore=function(u){var _,D,f;return D=this.parent.children.indexOf(this),f=this.parent.children.splice(D),_=this.parent.comment(u),Array.prototype.push.apply(this.parent.children,f),this},p.prototype.commentAfter=function(u){var _,D,f;return D=this.parent.children.indexOf(this),f=this.parent.children.splice(D+1),_=this.parent.comment(u),Array.prototype.push.apply(this.parent.children,f),this},p.prototype.raw=function(u){var _;return _=new h(this,u),this.children.push(_),this},p.prototype.dummy=function(){var u;return u=new s(this),u},p.prototype.instruction=function(u,_){var D,f,x,v,w;if(u!=null&&(u=m(u)),_!=null&&(_=m(_)),Array.isArray(u))for(v=0,w=u.length;v<w;v++)D=u[v],this.instruction(D);else if(C(u))for(D in u)b.call(u,D)&&(f=u[D],this.instruction(D,f));else I(_)&&(_=_.apply()),x=new A(this,u,_),this.children.push(x);return this},p.prototype.instructionBefore=function(u,_){var D,f,x;return f=this.parent.children.indexOf(this),x=this.parent.children.splice(f),D=this.parent.instruction(u,_),Array.prototype.push.apply(this.parent.children,x),this},p.prototype.instructionAfter=function(u,_){var D,f,x;return f=this.parent.children.indexOf(this),x=this.parent.children.splice(f+1),D=this.parent.instruction(u,_),Array.prototype.push.apply(this.parent.children,x),this},p.prototype.declaration=function(u,_,D){var f,x;return f=this.document(),x=new i(f,u,_,D),f.children.length===0?f.children.unshift(x):f.children[0].type===t.Declaration?f.children[0]=x:f.children.unshift(x),f.root()||f},p.prototype.dtd=function(u,_){var D,f,x,v,w,L,F,j,N,O;for(f=this.document(),x=new o(f,u,_),N=f.children,v=w=0,F=N.length;w<F;v=++w)if(D=N[v],D.type===t.DocType)return f.children[v]=x,x;for(O=f.children,v=L=0,j=O.length;L<j;v=++L)if(D=O[v],D.isRoot)return f.children.splice(v,0,x),x;return f.children.push(x),x},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var u;for(u=this;u;){if(u.type===t.Document)return u.rootObject;if(u.isRoot)return u;u=u.parent}},p.prototype.document=function(){var u;for(u=this;u;){if(u.type===t.Document)return u;u=u.parent}},p.prototype.end=function(u){return this.document().end(u)},p.prototype.prev=function(){var u;if(u=this.parent.children.indexOf(this),u<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[u-1]},p.prototype.next=function(){var u;if(u=this.parent.children.indexOf(this),u===-1||u===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[u+1]},p.prototype.importDocument=function(u){var _;return _=u.root().clone(),_.parent=this,_.isRoot=!1,this.children.push(_),this},p.prototype.debugInfo=function(u){var _,D;return u=u||this.name,u==null&&!((_=this.parent)!=null&&_.name)?"":u==null?"parent: <"+this.parent.name+">":(D=this.parent)!=null&&D.name?"node: <"+u+">, parent: <"+this.parent.name+">":"node: <"+u+">"},p.prototype.ele=function(u,_,D){return this.element(u,_,D)},p.prototype.nod=function(u,_,D){return this.node(u,_,D)},p.prototype.txt=function(u){return this.text(u)},p.prototype.dat=function(u){return this.cdata(u)},p.prototype.com=function(u){return this.comment(u)},p.prototype.ins=function(u,_){return this.instruction(u,_)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(u,_,D){return this.declaration(u,_,D)},p.prototype.e=function(u,_,D){return this.element(u,_,D)},p.prototype.n=function(u,_,D){return this.node(u,_,D)},p.prototype.t=function(u){return this.text(u)},p.prototype.d=function(u){return this.cdata(u)},p.prototype.c=function(u){return this.comment(u)},p.prototype.r=function(u){return this.raw(u)},p.prototype.i=function(u,_){return this.instruction(u,_)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(u){return this.importDocument(u)},p.prototype.replaceChild=function(u,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.removeChild=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.appendChild=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.hasChildNodes=function(){return this.children.length!==0},p.prototype.cloneNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isSupported=function(u,_){return!0},p.prototype.hasAttributes=function(){return this.attribs.length!==0},p.prototype.compareDocumentPosition=function(u){var _,D;return _=this,_===u?0:this.document()!==u.document()?(D=e.Disconnected|e.ImplementationSpecific,Math.random()<.5?D|=e.Preceding:D|=e.Following,D):_.isAncestor(u)?e.Contains|e.Preceding:_.isDescendant(u)?e.Contains|e.Following:_.isPreceding(u)?e.Preceding:e.Following},p.prototype.isSameNode=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupPrefix=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isDefaultNamespace=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.lookupNamespaceURI=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.isEqualNode=function(u){var _,D,f;if(u.nodeType!==this.nodeType||u.children.length!==this.children.length)return!1;for(_=D=0,f=this.children.length-1;0<=f?D<=f:D>=f;_=0<=f?++D:--D)if(!this.children[_].isEqualNode(u.children[_]))return!1;return!0},p.prototype.getFeature=function(u,_){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.setUserData=function(u,_,D){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.getUserData=function(u){throw new Error("This DOM method is not implemented."+this.debugInfo())},p.prototype.contains=function(u){return u?u===this||this.isDescendant(u):!1},p.prototype.isDescendant=function(u){var _,D,f,x,v;for(v=this.children,f=0,x=v.length;f<x;f++)if(_=v[f],u===_||(D=_.isDescendant(u),D))return!0;return!1},p.prototype.isAncestor=function(u){return u.isDescendant(this)},p.prototype.isPreceding=function(u){var _,D;return _=this.treePosition(u),D=this.treePosition(this),_===-1||D===-1?!1:_<D},p.prototype.isFollowing=function(u){var _,D;return _=this.treePosition(u),D=this.treePosition(this),_===-1||D===-1?!1:_>D},p.prototype.treePosition=function(u){var _,D;return D=0,_=!1,this.foreachTreeNode(this.document(),function(f){if(D++,!_&&f===u)return _=!0}),_?D:-1},p.prototype.foreachTreeNode=function(u,_){var D,f,x,v,w;for(u||(u=this.document()),v=u.children,f=0,x=v.length;f<x;f++){if(D=v[f],w=_(D))return w;if(w=this.foreachTreeNode(D,_),w)return w}},p}()}).call(au)});var Zn=R((cu,lu)=>{(function(){var e,t=function(n,i){return function(){return n.apply(i,arguments)}},r={}.hasOwnProperty;lu.exports=e=function(){function n(i){this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this);var o,s,a;i||(i={}),this.options=i,this.options.version||(this.options.version="1.0"),s=i.stringify||{};for(o in s)r.call(s,o)&&(a=s[o],this[o]=a)}return n.prototype.name=function(i){return this.options.noValidation?i:this.assertLegalName(""+i||"")},n.prototype.text=function(i){return this.options.noValidation?i:this.assertLegalChar(this.textEscape(""+i||""))},n.prototype.cdata=function(i){return this.options.noValidation?i:(i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i))},n.prototype.comment=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return this.options.noValidation?i:""+i||""},n.prototype.attValue=function(i){return this.options.noValidation?i:this.assertLegalChar(this.attEscape(i=""+i||""))},n.prototype.insTarget=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.insValue=function(i){if(this.options.noValidation)return i;if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return this.assertLegalChar(i)},n.prototype.xmlVersion=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(this.options.noValidation)return i;if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return this.assertLegalChar(i)},n.prototype.xmlStandalone=function(i){return this.options.noValidation?i:i?"yes":"no"},n.prototype.dtdPubID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdSysID=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdElementValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttType=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdAttDefault=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdEntityValue=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.dtdNData=function(i){return this.options.noValidation?i:this.assertLegalChar(""+i||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var o,s;if(this.options.noValidation)return i;if(o="",this.options.version==="1.0"){if(o=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=i.match(o))throw new Error("Invalid character in string: "+i+" at index "+s.index)}else if(this.options.version==="1.1"&&(o=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,s=i.match(o)))throw new Error("Invalid character in string: "+i+" at index "+s.index);return i},n.prototype.assertLegalName=function(i){var o;if(this.options.noValidation)return i;if(this.assertLegalChar(i),o=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!i.match(o))throw new Error("Invalid character in name");return i},n.prototype.textEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(i){var o;return this.options.noValidation?i:(o=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(o,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(cu)});var ye=R((fu,pu)=>{(function(){pu.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(fu)});var ti=R((hu,du)=>{(function(){var e,t,r,n,i,o,s,a,c,y,g,A,h,E,m,T,I,C={}.hasOwnProperty;I=bt().assign,e=J(),c=ze(),y=nr(),r=Qe(),n=Je(),A=Ke(),E=ir(),m=sr(),h=or(),g=zn(),i=Ze(),o=er(),s=tr(),a=rr(),t=ye(),du.exports=T=function(){function P(b){var p,u,_;b||(b={}),this.options=b,u=b.writer||{};for(p in u)C.call(u,p)&&(_=u[p],this["_"+p]=this[p],this[p]=_)}return P.prototype.filterOptions=function(b){var p,u,_,D,f,x,v,w;return b||(b={}),b=I({},this.options,b),p={writer:this},p.pretty=b.pretty||!1,p.allowEmpty=b.allowEmpty||!1,p.indent=(u=b.indent)!=null?u:"  ",p.newline=(_=b.newline)!=null?_:`
`,p.offset=(D=b.offset)!=null?D:0,p.dontPrettyTextNodes=(f=(x=b.dontPrettyTextNodes)!=null?x:b.dontprettytextnodes)!=null?f:0,p.spaceBeforeSlash=(v=(w=b.spaceBeforeSlash)!=null?w:b.spacebeforeslash)!=null?v:"",p.spaceBeforeSlash===!0&&(p.spaceBeforeSlash=" "),p.suppressPrettyCount=0,p.user={},p.state=t.None,p},P.prototype.indent=function(b,p,u){var _;return!p.pretty||p.suppressPrettyCount?"":p.pretty&&(_=(u||0)+p.offset+1,_>0)?new Array(_).join(p.indent):""},P.prototype.endline=function(b,p,u){return!p.pretty||p.suppressPrettyCount?"":p.newline},P.prototype.attribute=function(b,p,u){var _;return this.openAttribute(b,p,u),_=" "+b.name+'="'+b.value+'"',this.closeAttribute(b,p,u),_},P.prototype.cdata=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<![CDATA[",p.state=t.InsideTag,_+=b.value,p.state=t.CloseTag,_+="]]>"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.comment=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<!-- ",p.state=t.InsideTag,_+=b.value,p.state=t.CloseTag,_+=" -->"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.declaration=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<?xml",p.state=t.InsideTag,_+=' version="'+b.version+'"',b.encoding!=null&&(_+=' encoding="'+b.encoding+'"'),b.standalone!=null&&(_+=' standalone="'+b.standalone+'"'),p.state=t.CloseTag,_+=p.spaceBeforeSlash+"?>",_+=this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.docType=function(b,p,u){var _,D,f,x,v;if(u||(u=0),this.openNode(b,p,u),p.state=t.OpenTag,x=this.indent(b,p,u),x+="<!DOCTYPE "+b.root().name,b.pubID&&b.sysID?x+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(x+=' SYSTEM "'+b.sysID+'"'),b.children.length>0){for(x+=" [",x+=this.endline(b,p,u),p.state=t.InsideTag,v=b.children,D=0,f=v.length;D<f;D++)_=v[D],x+=this.writeChildNode(_,p,u+1);p.state=t.CloseTag,x+="]"}return p.state=t.CloseTag,x+=p.spaceBeforeSlash+">",x+=this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),x},P.prototype.element=function(b,p,u){var _,D,f,x,v,w,L,F,j,N,O,U,k,Z;u||(u=0),N=!1,O="",this.openNode(b,p,u),p.state=t.OpenTag,O+=this.indent(b,p,u)+"<"+b.name,U=b.attribs;for(j in U)C.call(U,j)&&(_=U[j],O+=this.attribute(_,p,u));if(f=b.children.length,x=f===0?null:b.children[0],f===0||b.children.every(function(Y){return(Y.type===e.Text||Y.type===e.Raw)&&Y.value===""}))p.allowEmpty?(O+=">",p.state=t.CloseTag,O+="</"+b.name+">"+this.endline(b,p,u)):(p.state=t.CloseTag,O+=p.spaceBeforeSlash+"/>"+this.endline(b,p,u));else if(p.pretty&&f===1&&(x.type===e.Text||x.type===e.Raw)&&x.value!=null)O+=">",p.state=t.InsideTag,p.suppressPrettyCount++,N=!0,O+=this.writeChildNode(x,p,u+1),p.suppressPrettyCount--,N=!1,p.state=t.CloseTag,O+="</"+b.name+">"+this.endline(b,p,u);else{if(p.dontPrettyTextNodes){for(k=b.children,v=0,L=k.length;v<L;v++)if(D=k[v],(D.type===e.Text||D.type===e.Raw)&&D.value!=null){p.suppressPrettyCount++,N=!0;break}}for(O+=">"+this.endline(b,p,u),p.state=t.InsideTag,Z=b.children,w=0,F=Z.length;w<F;w++)D=Z[w],O+=this.writeChildNode(D,p,u+1);p.state=t.CloseTag,O+=this.indent(b,p,u)+"</"+b.name+">",N&&p.suppressPrettyCount--,O+=this.endline(b,p,u),p.state=t.None}return this.closeNode(b,p,u),O},P.prototype.writeChildNode=function(b,p,u){switch(b.type){case e.CData:return this.cdata(b,p,u);case e.Comment:return this.comment(b,p,u);case e.Element:return this.element(b,p,u);case e.Raw:return this.raw(b,p,u);case e.Text:return this.text(b,p,u);case e.ProcessingInstruction:return this.processingInstruction(b,p,u);case e.Dummy:return"";case e.Declaration:return this.declaration(b,p,u);case e.DocType:return this.docType(b,p,u);case e.AttributeDeclaration:return this.dtdAttList(b,p,u);case e.ElementDeclaration:return this.dtdElement(b,p,u);case e.EntityDeclaration:return this.dtdEntity(b,p,u);case e.NotationDeclaration:return this.dtdNotation(b,p,u);default:throw new Error("Unknown XML node type: "+b.constructor.name)}},P.prototype.processingInstruction=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<?",p.state=t.InsideTag,_+=b.target,b.value&&(_+=" "+b.value),p.state=t.CloseTag,_+=p.spaceBeforeSlash+"?>",_+=this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.raw=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u),p.state=t.InsideTag,_+=b.value,p.state=t.CloseTag,_+=this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.text=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u),p.state=t.InsideTag,_+=b.value,p.state=t.CloseTag,_+=this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.dtdAttList=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<!ATTLIST",p.state=t.InsideTag,_+=" "+b.elementName+" "+b.attributeName+" "+b.attributeType,b.defaultValueType!=="#DEFAULT"&&(_+=" "+b.defaultValueType),b.defaultValue&&(_+=' "'+b.defaultValue+'"'),p.state=t.CloseTag,_+=p.spaceBeforeSlash+">"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.dtdElement=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<!ELEMENT",p.state=t.InsideTag,_+=" "+b.name+" "+b.value,p.state=t.CloseTag,_+=p.spaceBeforeSlash+">"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.dtdEntity=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<!ENTITY",p.state=t.InsideTag,b.pe&&(_+=" %"),_+=" "+b.name,b.value?_+=' "'+b.value+'"':(b.pubID&&b.sysID?_+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.sysID&&(_+=' SYSTEM "'+b.sysID+'"'),b.nData&&(_+=" NDATA "+b.nData)),p.state=t.CloseTag,_+=p.spaceBeforeSlash+">"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.dtdNotation=function(b,p,u){var _;return this.openNode(b,p,u),p.state=t.OpenTag,_=this.indent(b,p,u)+"<!NOTATION",p.state=t.InsideTag,_+=" "+b.name,b.pubID&&b.sysID?_+=' PUBLIC "'+b.pubID+'" "'+b.sysID+'"':b.pubID?_+=' PUBLIC "'+b.pubID+'"':b.sysID&&(_+=' SYSTEM "'+b.sysID+'"'),p.state=t.CloseTag,_+=p.spaceBeforeSlash+">"+this.endline(b,p,u),p.state=t.None,this.closeNode(b,p,u),_},P.prototype.openNode=function(b,p,u){},P.prototype.closeNode=function(b,p,u){},P.prototype.openAttribute=function(b,p,u){},P.prototype.closeAttribute=function(b,p,u){},P}()}).call(hu)});var ar=R((yu,mu)=>{(function(){var e,t,r=function(i,o){for(var s in o)n.call(o,s)&&(i[s]=o[s]);function a(){this.constructor=i}return a.prototype=o.prototype,i.prototype=new a,i.__super__=o.prototype,i},n={}.hasOwnProperty;t=ti(),mu.exports=e=function(i){r(o,i);function o(s){o.__super__.constructor.call(this,s)}return o.prototype.document=function(s,a){var c,y,g,A,h;for(a=this.filterOptions(a),A="",h=s.children,y=0,g=h.length;y<g;y++)c=h[y],A+=this.writeChildNode(c,a,0);return a.pretty&&A.slice(-a.newline.length)===a.newline&&(A=A.slice(0,-a.newline.length)),A},o}(t)}).call(yu)});var ei=R((gu,_u)=>{(function(){var e,t,r,n,i,o,s,a,c=function(g,A){for(var h in A)y.call(A,h)&&(g[h]=A[h]);function E(){this.constructor=g}return E.prototype=A.prototype,g.prototype=new E,g.__super__=A.prototype,g},y={}.hasOwnProperty;a=bt().isPlainObject,r=Qn(),t=ba(),i=ft(),e=J(),s=Zn(),o=ar(),_u.exports=n=function(g){c(A,g);function A(h){A.__super__.constructor.call(this,null),this.name="#document",this.type=e.Document,this.documentURI=null,this.domConfig=new t,h||(h={}),h.writer||(h.writer=new o),this.options=h,this.stringify=new s(h)}return Object.defineProperty(A.prototype,"implementation",{value:new r}),Object.defineProperty(A.prototype,"doctype",{get:function(){var h,E,m,T;for(T=this.children,E=0,m=T.length;E<m;E++)if(h=T[E],h.type===e.DocType)return h;return null}}),Object.defineProperty(A.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(A.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(A.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(A.prototype,"xmlEncoding",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].encoding:null}}),Object.defineProperty(A.prototype,"xmlStandalone",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].standalone==="yes":!1}}),Object.defineProperty(A.prototype,"xmlVersion",{get:function(){return this.children.length!==0&&this.children[0].type===e.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(A.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(A.prototype,"origin",{get:function(){return null}}),Object.defineProperty(A.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(A.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(A.prototype,"contentType",{get:function(){return null}}),A.prototype.end=function(h){var E;return E={},h?a(h)&&(E=h,h=this.options.writer):h=this.options.writer,h.document(this,h.filterOptions(E))},A.prototype.toString=function(h){return this.options.writer.document(this,this.options.writer.filterOptions(h))},A.prototype.createElement=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createTextNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createComment=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createCDATASection=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createProcessingInstruction=function(h,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createAttribute=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createEntityReference=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.getElementsByTagName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.importNode=function(h,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createElementNS=function(h,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createAttributeNS=function(h,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.getElementsByTagNameNS=function(h,E){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.getElementById=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.adoptNode=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.renameNode=function(h,E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.getElementsByClassName=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createEvent=function(h){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createNodeIterator=function(h,E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},A.prototype.createTreeWalker=function(h,E,m){throw new Error("This DOM method is not implemented."+this.debugInfo())},A}(i)}).call(gu)});var wu=R((Eu,bu)=>{(function(){var e,t,r,n,i,o,s,a,c,y,g,A,h,E,m,T,I,C,P,b,p,u,_,D,f={}.hasOwnProperty;D=bt(),u=D.isObject,p=D.isFunction,_=D.isPlainObject,b=D.getValue,e=J(),A=ei(),E=Ke(),n=Qe(),i=Je(),T=ir(),P=sr(),m=or(),y=ze(),g=nr(),o=Ze(),a=tr(),s=er(),c=rr(),r=Jn(),C=Zn(),I=ar(),t=ye(),bu.exports=h=function(){function x(v,w,L){var F;this.name="?xml",this.type=e.Document,v||(v={}),F={},v.writer?_(v.writer)&&(F=v.writer,v.writer=new I):v.writer=new I,this.options=v,this.writer=v.writer,this.writerOptions=this.writer.filterOptions(F),this.stringify=new C(v),this.onDataCallback=w||function(){},this.onEndCallback=L||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return x.prototype.createChildNode=function(v){var w,L,F,j,N,O,U,k;switch(v.type){case e.CData:this.cdata(v.value);break;case e.Comment:this.comment(v.value);break;case e.Element:F={},U=v.attribs;for(L in U)f.call(U,L)&&(w=U[L],F[L]=w.value);this.node(v.name,F);break;case e.Dummy:this.dummy();break;case e.Raw:this.raw(v.value);break;case e.Text:this.text(v.value);break;case e.ProcessingInstruction:this.instruction(v.target,v.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+v.constructor.name)}for(k=v.children,N=0,O=k.length;N<O;N++)j=k[N],this.createChildNode(j),j.type===e.Element&&this.up();return this},x.prototype.dummy=function(){return this},x.prototype.node=function(v,w,L){var F;if(v==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(v));return this.openCurrent(),v=b(v),w==null&&(w={}),w=b(w),u(w)||(F=[w,L],L=F[0],w=F[1]),this.currentNode=new E(this,v,w),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,L!=null&&this.text(L),this},x.prototype.element=function(v,w,L){var F,j,N,O,U,k;if(this.currentNode&&this.currentNode.type===e.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(v)||u(v)||p(v))for(O=this.options.noValidation,this.options.noValidation=!0,k=new A(this.options).element("TEMP_ROOT"),k.element(v),this.options.noValidation=O,U=k.children,j=0,N=U.length;j<N;j++)F=U[j],this.createChildNode(F),F.type===e.Element&&this.up();else this.node(v,w,L);return this},x.prototype.attribute=function(v,w){var L,F;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(v));if(v!=null&&(v=b(v)),u(v))for(L in v)f.call(v,L)&&(F=v[L],this.attribute(L,F));else p(w)&&(w=w.apply()),this.options.keepNullAttributes&&w==null?this.currentNode.attribs[v]=new r(this,v,""):w!=null&&(this.currentNode.attribs[v]=new r(this,v,w));return this},x.prototype.text=function(v){var w;return this.openCurrent(),w=new P(this,v),this.onData(this.writer.text(w,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.cdata=function(v){var w;return this.openCurrent(),w=new n(this,v),this.onData(this.writer.cdata(w,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.comment=function(v){var w;return this.openCurrent(),w=new i(this,v),this.onData(this.writer.comment(w,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.raw=function(v){var w;return this.openCurrent(),w=new T(this,v),this.onData(this.writer.raw(w,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.instruction=function(v,w){var L,F,j,N,O;if(this.openCurrent(),v!=null&&(v=b(v)),w!=null&&(w=b(w)),Array.isArray(v))for(L=0,N=v.length;L<N;L++)F=v[L],this.instruction(F);else if(u(v))for(F in v)f.call(v,F)&&(j=v[F],this.instruction(F,j));else p(w)&&(w=w.apply()),O=new m(this,v,w),this.onData(this.writer.processingInstruction(O,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},x.prototype.declaration=function(v,w,L){var F;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return F=new y(this,v,w,L),this.onData(this.writer.declaration(F,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.doctype=function(v,w,L){if(this.openCurrent(),v==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new g(this,w,L),this.currentNode.rootNodeName=v,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},x.prototype.dtdElement=function(v,w){var L;return this.openCurrent(),L=new s(this,v,w),this.onData(this.writer.dtdElement(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.attList=function(v,w,L,F,j){var N;return this.openCurrent(),N=new o(this,v,w,L,F,j),this.onData(this.writer.dtdAttList(N,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.entity=function(v,w){var L;return this.openCurrent(),L=new a(this,!1,v,w),this.onData(this.writer.dtdEntity(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.pEntity=function(v,w){var L;return this.openCurrent(),L=new a(this,!0,v,w),this.onData(this.writer.dtdEntity(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.notation=function(v,w){var L;return this.openCurrent(),L=new c(this,v,w),this.onData(this.writer.dtdNotation(L,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},x.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},x.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},x.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},x.prototype.openNode=function(v){var w,L,F,j;if(!v.isOpen){if(!this.root&&this.currentLevel===0&&v.type===e.Element&&(this.root=v),L="",v.type===e.Element){this.writerOptions.state=t.OpenTag,L=this.writer.indent(v,this.writerOptions,this.currentLevel)+"<"+v.name,j=v.attribs;for(F in j)f.call(j,F)&&(w=j[F],L+=this.writer.attribute(w,this.writerOptions,this.currentLevel));L+=(v.children?">":"/>")+this.writer.endline(v,this.writerOptions,this.currentLevel),this.writerOptions.state=t.InsideTag}else this.writerOptions.state=t.OpenTag,L=this.writer.indent(v,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+v.rootNodeName,v.pubID&&v.sysID?L+=' PUBLIC "'+v.pubID+'" "'+v.sysID+'"':v.sysID&&(L+=' SYSTEM "'+v.sysID+'"'),v.children?(L+=" [",this.writerOptions.state=t.InsideTag):(this.writerOptions.state=t.CloseTag,L+=">"),L+=this.writer.endline(v,this.writerOptions,this.currentLevel);return this.onData(L,this.currentLevel),v.isOpen=!0}},x.prototype.closeNode=function(v){var w;if(!v.isClosed)return w="",this.writerOptions.state=t.CloseTag,v.type===e.Element?w=this.writer.indent(v,this.writerOptions,this.currentLevel)+"</"+v.name+">"+this.writer.endline(v,this.writerOptions,this.currentLevel):w=this.writer.indent(v,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(v,this.writerOptions,this.currentLevel),this.writerOptions.state=t.None,this.onData(w,this.currentLevel),v.isClosed=!0},x.prototype.onData=function(v,w){return this.documentStarted=!0,this.onDataCallback(v,w+1)},x.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},x.prototype.debugInfo=function(v){return v==null?"":"node: <"+v+">"},x.prototype.ele=function(){return this.element.apply(this,arguments)},x.prototype.nod=function(v,w,L){return this.node(v,w,L)},x.prototype.txt=function(v){return this.text(v)},x.prototype.dat=function(v){return this.cdata(v)},x.prototype.com=function(v){return this.comment(v)},x.prototype.ins=function(v,w){return this.instruction(v,w)},x.prototype.dec=function(v,w,L){return this.declaration(v,w,L)},x.prototype.dtd=function(v,w,L){return this.doctype(v,w,L)},x.prototype.e=function(v,w,L){return this.element(v,w,L)},x.prototype.n=function(v,w,L){return this.node(v,w,L)},x.prototype.t=function(v){return this.text(v)},x.prototype.d=function(v){return this.cdata(v)},x.prototype.c=function(v){return this.comment(v)},x.prototype.r=function(v){return this.raw(v)},x.prototype.i=function(v,w){return this.instruction(v,w)},x.prototype.att=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},x.prototype.a=function(){return this.currentNode&&this.currentNode.type===e.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},x.prototype.ent=function(v,w){return this.entity(v,w)},x.prototype.pent=function(v,w){return this.pEntity(v,w)},x.prototype.not=function(v,w){return this.notation(v,w)},x}()}).call(Eu)});var Su=R((Tu,Au)=>{(function(){var e,t,r,n,i=function(s,a){for(var c in a)o.call(a,c)&&(s[c]=a[c]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;e=J(),n=ti(),t=ye(),Au.exports=r=function(s){i(a,s);function a(c,y){this.stream=c,a.__super__.constructor.call(this,y)}return a.prototype.endline=function(c,y,g){return c.isLastRootNode&&y.state===t.CloseTag?"":a.__super__.endline.call(this,c,y,g)},a.prototype.document=function(c,y){var g,A,h,E,m,T,I,C,P;for(I=c.children,A=h=0,m=I.length;h<m;A=++h)g=I[A],g.isLastRootNode=A===c.children.length-1;for(y=this.filterOptions(y),C=c.children,P=[],E=0,T=C.length;E<T;E++)g=C[E],P.push(this.writeChildNode(g,y,0));return P},a.prototype.attribute=function(c,y,g){return this.stream.write(a.__super__.attribute.call(this,c,y,g))},a.prototype.cdata=function(c,y,g){return this.stream.write(a.__super__.cdata.call(this,c,y,g))},a.prototype.comment=function(c,y,g){return this.stream.write(a.__super__.comment.call(this,c,y,g))},a.prototype.declaration=function(c,y,g){return this.stream.write(a.__super__.declaration.call(this,c,y,g))},a.prototype.docType=function(c,y,g){var A,h,E,m;if(g||(g=0),this.openNode(c,y,g),y.state=t.OpenTag,this.stream.write(this.indent(c,y,g)),this.stream.write("<!DOCTYPE "+c.root().name),c.pubID&&c.sysID?this.stream.write(' PUBLIC "'+c.pubID+'" "'+c.sysID+'"'):c.sysID&&this.stream.write(' SYSTEM "'+c.sysID+'"'),c.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(c,y,g)),y.state=t.InsideTag,m=c.children,h=0,E=m.length;h<E;h++)A=m[h],this.writeChildNode(A,y,g+1);y.state=t.CloseTag,this.stream.write("]")}return y.state=t.CloseTag,this.stream.write(y.spaceBeforeSlash+">"),this.stream.write(this.endline(c,y,g)),y.state=t.None,this.closeNode(c,y,g)},a.prototype.element=function(c,y,g){var A,h,E,m,T,I,C,P,b,p;g||(g=0),this.openNode(c,y,g),y.state=t.OpenTag,this.stream.write(this.indent(c,y,g)+"<"+c.name),b=c.attribs;for(C in b)o.call(b,C)&&(A=b[C],this.attribute(A,y,g));if(E=c.children.length,m=E===0?null:c.children[0],E===0||c.children.every(function(u){return(u.type===e.Text||u.type===e.Raw)&&u.value===""}))y.allowEmpty?(this.stream.write(">"),y.state=t.CloseTag,this.stream.write("</"+c.name+">")):(y.state=t.CloseTag,this.stream.write(y.spaceBeforeSlash+"/>"));else if(y.pretty&&E===1&&(m.type===e.Text||m.type===e.Raw)&&m.value!=null)this.stream.write(">"),y.state=t.InsideTag,y.suppressPrettyCount++,P=!0,this.writeChildNode(m,y,g+1),y.suppressPrettyCount--,P=!1,y.state=t.CloseTag,this.stream.write("</"+c.name+">");else{for(this.stream.write(">"+this.endline(c,y,g)),y.state=t.InsideTag,p=c.children,T=0,I=p.length;T<I;T++)h=p[T],this.writeChildNode(h,y,g+1);y.state=t.CloseTag,this.stream.write(this.indent(c,y,g)+"</"+c.name+">")}return this.stream.write(this.endline(c,y,g)),y.state=t.None,this.closeNode(c,y,g)},a.prototype.processingInstruction=function(c,y,g){return this.stream.write(a.__super__.processingInstruction.call(this,c,y,g))},a.prototype.raw=function(c,y,g){return this.stream.write(a.__super__.raw.call(this,c,y,g))},a.prototype.text=function(c,y,g){return this.stream.write(a.__super__.text.call(this,c,y,g))},a.prototype.dtdAttList=function(c,y,g){return this.stream.write(a.__super__.dtdAttList.call(this,c,y,g))},a.prototype.dtdElement=function(c,y,g){return this.stream.write(a.__super__.dtdElement.call(this,c,y,g))},a.prototype.dtdEntity=function(c,y,g){return this.stream.write(a.__super__.dtdEntity.call(this,c,y,g))},a.prototype.dtdNotation=function(c,y,g){return this.stream.write(a.__super__.dtdNotation.call(this,c,y,g))},a}(n)}).call(Tu)});var Ou=R((vu,Ft)=>{(function(){var e,t,r,n,i,o,s,a,c,y;y=bt(),a=y.assign,c=y.isFunction,r=Qn(),n=ei(),i=wu(),s=ar(),o=Su(),e=J(),t=ye(),Ft.exports.create=function(g,A,h,E){var m,T;if(g==null)throw new Error("Root element needs a name.");return E=a({},A,h,E),m=new n(E),T=m.element(g),E.headless||(m.declaration(E),(E.pubID!=null||E.sysID!=null)&&m.dtd(E)),T},Ft.exports.begin=function(g,A,h){var E;return c(g)&&(E=[g,A],A=E[0],h=E[1],g={}),A?new i(g,A,h):new n(g)},Ft.exports.stringWriter=function(g){return new s(g)},Ft.exports.streamWriter=function(g,A){return new o(g,A)},Ft.exports.implementation=new r,Ft.exports.nodeType=e,Ft.exports.writerState=t}).call(vu)});var Du=R(ri=>{(function(){"use strict";var e,t,r,n,i,o={}.hasOwnProperty;e=Ou(),t=We().defaults,n=function(s){return typeof s=="string"&&(s.indexOf("&")>=0||s.indexOf(">")>=0||s.indexOf("<")>=0)},i=function(s){return"<![CDATA["+r(s)+"]]>"},r=function(s){return s.replace("]]>","]]]]><![CDATA[>")},ri.Builder=function(){function s(a){var c,y,g;this.options={},y=t["0.2"];for(c in y)o.call(y,c)&&(g=y[c],this.options[c]=g);for(c in a)o.call(a,c)&&(g=a[c],this.options[c]=g)}return s.prototype.buildObject=function(a){var c,y,g,A,h;return c=this.options.attrkey,y=this.options.charkey,Object.keys(a).length===1&&this.options.rootName===t["0.2"].rootName?(h=Object.keys(a)[0],a=a[h]):h=this.options.rootName,g=function(E){return function(m,T){var I,C,P,b,p,u;if(typeof T!="object")E.options.cdata&&n(T)?m.raw(i(T)):m.txt(T);else if(Array.isArray(T)){for(b in T)if(o.call(T,b)){C=T[b];for(p in C)P=C[p],m=g(m.ele(p),P).up()}}else for(p in T)if(o.call(T,p))if(C=T[p],p===c){if(typeof C=="object")for(I in C)u=C[I],m=m.att(I,u)}else if(p===y)E.options.cdata&&n(C)?m=m.raw(i(C)):m=m.txt(C);else if(Array.isArray(C))for(b in C)o.call(C,b)&&(P=C[b],typeof P=="string"?E.options.cdata&&n(P)?m=m.ele(p).raw(i(P)).up():m=m.ele(p,P).up():m=g(m.ele(p),P).up());else typeof C=="object"?m=g(m.ele(p),C).up():typeof C=="string"&&E.options.cdata&&n(C)?m=m.ele(p).raw(i(C)).up():(C==null&&(C=""),m=m.ele(p,C.toString()).up());return m}}(this),A=e.create(h,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),g(A,a).end(this.options.renderOpts)},s}()}).call(ri)});var Pu=R(ur=>{(function(e){e.parser=function(d,l){return new r(d,l)},e.SAXParser=r,e.SAXStream=y,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(d,l){if(!(this instanceof r))return new r(d,l);var M=this;i(M),M.q=M.c="",M.bufferCheckPosition=e.MAX_BUFFER_LENGTH,M.opt=l||{},M.opt.lowercase=M.opt.lowercase||M.opt.lowercasetags,M.looseCase=M.opt.lowercase?"toLowerCase":"toUpperCase",M.tags=[],M.closed=M.closedRoot=M.sawRoot=!1,M.tag=M.error=null,M.strict=!!d,M.noscript=!!(d||M.opt.noscript),M.state=f.BEGIN,M.strictEntities=M.opt.strictEntities,M.ENTITIES=M.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),M.attribList=[],M.opt.xmlns&&(M.ns=Object.create(m)),M.trackPosition=M.opt.position!==!1,M.trackPosition&&(M.position=M.line=M.column=0),v(M,"onready")}Object.create||(Object.create=function(d){function l(){}l.prototype=d;var M=new l;return M}),Object.keys||(Object.keys=function(d){var l=[];for(var M in d)d.hasOwnProperty(M)&&l.push(M);return l});function n(d){for(var l=Math.max(e.MAX_BUFFER_LENGTH,10),M=0,S=0,B=t.length;S<B;S++){var q=d[t[S]].length;if(q>l)switch(t[S]){case"textNode":L(d);break;case"cdata":w(d,"oncdata",d.cdata),d.cdata="";break;case"script":w(d,"onscript",d.script),d.script="";break;default:j(d,"Max buffer length exceeded: "+t[S])}M=Math.max(M,q)}var H=e.MAX_BUFFER_LENGTH-M;d.bufferCheckPosition=H+d.position}function i(d){for(var l=0,M=t.length;l<M;l++)d[t[l]]=""}function o(d){L(d),d.cdata!==""&&(w(d,"oncdata",d.cdata),d.cdata=""),d.script!==""&&(w(d,"onscript",d.script),d.script="")}r.prototype={end:function(){N(this)},write:Tt,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var s;try{s=require("stream").Stream}catch{s=function(){}}var a=e.EVENTS.filter(function(d){return d!=="error"&&d!=="end"});function c(d,l){return new y(d,l)}function y(d,l){if(!(this instanceof y))return new y(d,l);s.apply(this),this._parser=new r(d,l),this.writable=!0,this.readable=!0;var M=this;this._parser.onend=function(){M.emit("end")},this._parser.onerror=function(S){M.emit("error",S),M._parser.error=null},this._decoder=null,a.forEach(function(S){Object.defineProperty(M,"on"+S,{get:function(){return M._parser["on"+S]},set:function(B){if(!B)return M.removeAllListeners(S),M._parser["on"+S]=B,B;M.on(S,B)},enumerable:!0,configurable:!1})})}y.prototype=Object.create(s.prototype,{constructor:{value:y}}),y.prototype.write=function(d){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(d)){if(!this._decoder){var l=require("string_decoder").StringDecoder;this._decoder=new l("utf8")}d=this._decoder.write(d)}return this._parser.write(d.toString()),this.emit("data",d),!0},y.prototype.end=function(d){return d&&d.length&&this.write(d),this._parser.end(),!0},y.prototype.on=function(d,l){var M=this;return!M._parser["on"+d]&&a.indexOf(d)!==-1&&(M._parser["on"+d]=function(){var S=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,d),M.emit.apply(M,S)}),s.prototype.on.call(M,d,l)};var g="[CDATA[",A="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",E="http://www.w3.org/2000/xmlns/",m={xml:h,xmlns:E},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function b(d){return d===" "||d===`
`||d==="\r"||d==="	"}function p(d){return d==='"'||d==="'"}function u(d){return d===">"||b(d)}function _(d,l){return d.test(l)}function D(d,l){return!_(d,l)}var f=0;e.STATE={BEGIN:f++,BEGIN_WHITESPACE:f++,TEXT:f++,TEXT_ENTITY:f++,OPEN_WAKA:f++,SGML_DECL:f++,SGML_DECL_QUOTED:f++,DOCTYPE:f++,DOCTYPE_QUOTED:f++,DOCTYPE_DTD:f++,DOCTYPE_DTD_QUOTED:f++,COMMENT_STARTING:f++,COMMENT:f++,COMMENT_ENDING:f++,COMMENT_ENDED:f++,CDATA:f++,CDATA_ENDING:f++,CDATA_ENDING_2:f++,PROC_INST:f++,PROC_INST_BODY:f++,PROC_INST_ENDING:f++,OPEN_TAG:f++,OPEN_TAG_SLASH:f++,ATTRIB:f++,ATTRIB_NAME:f++,ATTRIB_NAME_SAW_WHITE:f++,ATTRIB_VALUE:f++,ATTRIB_VALUE_QUOTED:f++,ATTRIB_VALUE_CLOSED:f++,ATTRIB_VALUE_UNQUOTED:f++,ATTRIB_VALUE_ENTITY_Q:f++,ATTRIB_VALUE_ENTITY_U:f++,CLOSE_TAG:f++,CLOSE_TAG_SAW_WHITE:f++,SCRIPT:f++,SCRIPT_ENDING:f++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(d){var l=e.ENTITIES[d],M=typeof l=="number"?String.fromCharCode(l):l;e.ENTITIES[d]=M});for(var x in e.STATE)e.STATE[e.STATE[x]]=x;f=e.STATE;function v(d,l,M){d[l]&&d[l](M)}function w(d,l,M){d.textNode&&L(d),v(d,l,M)}function L(d){d.textNode=F(d.opt,d.textNode),d.textNode&&v(d,"ontext",d.textNode),d.textNode=""}function F(d,l){return d.trim&&(l=l.trim()),d.normalize&&(l=l.replace(/\s+/g," ")),l}function j(d,l){return L(d),d.trackPosition&&(l+=`
Line: `+d.line+`
Column: `+d.column+`
Char: `+d.c),l=new Error(l),d.error=l,v(d,"onerror",l),d}function N(d){return d.sawRoot&&!d.closedRoot&&O(d,"Unclosed root tag"),d.state!==f.BEGIN&&d.state!==f.BEGIN_WHITESPACE&&d.state!==f.TEXT&&j(d,"Unexpected end"),L(d),d.c="",d.closed=!0,v(d,"onend"),r.call(d,d.strict,d.opt),d}function O(d,l){if(typeof d!="object"||!(d instanceof r))throw new Error("bad call to strictFail");d.strict&&j(d,l)}function U(d){d.strict||(d.tagName=d.tagName[d.looseCase]());var l=d.tags[d.tags.length-1]||d,M=d.tag={name:d.tagName,attributes:{}};d.opt.xmlns&&(M.ns=l.ns),d.attribList.length=0,w(d,"onopentagstart",M)}function k(d,l){var M=d.indexOf(":"),S=M<0?["",d]:d.split(":"),B=S[0],q=S[1];return l&&d==="xmlns"&&(B="xmlns",q=""),{prefix:B,local:q}}function Z(d){if(d.strict||(d.attribName=d.attribName[d.looseCase]()),d.attribList.indexOf(d.attribName)!==-1||d.tag.attributes.hasOwnProperty(d.attribName)){d.attribName=d.attribValue="";return}if(d.opt.xmlns){var l=k(d.attribName,!0),M=l.prefix,S=l.local;if(M==="xmlns")if(S==="xml"&&d.attribValue!==h)O(d,"xml: prefix must be bound to "+h+`
Actual: `+d.attribValue);else if(S==="xmlns"&&d.attribValue!==E)O(d,"xmlns: prefix must be bound to "+E+`
Actual: `+d.attribValue);else{var B=d.tag,q=d.tags[d.tags.length-1]||d;B.ns===q.ns&&(B.ns=Object.create(q.ns)),B.ns[S]=d.attribValue}d.attribList.push([d.attribName,d.attribValue])}else d.tag.attributes[d.attribName]=d.attribValue,w(d,"onattribute",{name:d.attribName,value:d.attribValue});d.attribName=d.attribValue=""}function Y(d,l){if(d.opt.xmlns){var M=d.tag,S=k(d.tagName);M.prefix=S.prefix,M.local=S.local,M.uri=M.ns[S.prefix]||"",M.prefix&&!M.uri&&(O(d,"Unbound namespace prefix: "+JSON.stringify(d.tagName)),M.uri=S.prefix);var B=d.tags[d.tags.length-1]||d;M.ns&&B.ns!==M.ns&&Object.keys(M.ns).forEach(function(_i){w(d,"onopennamespace",{prefix:_i,uri:M.ns[_i]})});for(var q=0,H=d.attribList.length;q<H;q++){var X=d.attribList[q],V=X[0],G=X[1],K=k(V,!0),ot=K.prefix,Tc=K.local,gi=ot===""?"":M.ns[ot]||"",pr={name:V,value:G,prefix:ot,local:Tc,uri:gi};ot&&ot!=="xmlns"&&!gi&&(O(d,"Unbound namespace prefix: "+JSON.stringify(ot)),pr.uri=ot),d.tag.attributes[V]=pr,w(d,"onattribute",pr)}d.attribList.length=0}d.tag.isSelfClosing=!!l,d.sawRoot=!0,d.tags.push(d.tag),w(d,"onopentag",d.tag),l||(!d.noscript&&d.tagName.toLowerCase()==="script"?d.state=f.SCRIPT:d.state=f.TEXT,d.tag=null,d.tagName=""),d.attribName=d.attribValue="",d.attribList.length=0}function rt(d){if(!d.tagName){O(d,"Weird empty close tag."),d.textNode+="</>",d.state=f.TEXT;return}if(d.script){if(d.tagName!=="script"){d.script+="</"+d.tagName+">",d.tagName="",d.state=f.SCRIPT;return}w(d,"onscript",d.script),d.script=""}var l=d.tags.length,M=d.tagName;d.strict||(M=M[d.looseCase]());for(var S=M;l--;){var B=d.tags[l];if(B.name!==S)O(d,"Unexpected close tag");else break}if(l<0){O(d,"Unmatched closing tag: "+d.tagName),d.textNode+="</"+d.tagName+">",d.state=f.TEXT;return}d.tagName=M;for(var q=d.tags.length;q-- >l;){var H=d.tag=d.tags.pop();d.tagName=d.tag.name,w(d,"onclosetag",d.tagName);var X={};for(var V in H.ns)X[V]=H.ns[V];var G=d.tags[d.tags.length-1]||d;d.opt.xmlns&&H.ns!==G.ns&&Object.keys(H.ns).forEach(function(K){var ot=H.ns[K];w(d,"onclosenamespace",{prefix:K,uri:ot})})}l===0&&(d.closedRoot=!0),d.tagName=d.attribValue=d.attribName="",d.attribList.length=0,d.state=f.TEXT}function Qt(d){var l=d.entity,M=l.toLowerCase(),S,B="";return d.ENTITIES[l]?d.ENTITIES[l]:d.ENTITIES[M]?d.ENTITIES[M]:(l=M,l.charAt(0)==="#"&&(l.charAt(1)==="x"?(l=l.slice(2),S=parseInt(l,16),B=S.toString(16)):(l=l.slice(1),S=parseInt(l,10),B=S.toString(10))),l=l.replace(/^0+/,""),isNaN(S)||B.toLowerCase()!==l?(O(d,"Invalid character entity"),"&"+d.entity+";"):String.fromCodePoint(S))}function ge(d,l){l==="<"?(d.state=f.OPEN_WAKA,d.startTagPosition=d.position):b(l)||(O(d,"Non-whitespace before first tag."),d.textNode=l,d.state=f.TEXT)}function kt(d,l){var M="";return l<d.length&&(M=d.charAt(l)),M}function Tt(d){var l=this;if(this.error)throw this.error;if(l.closed)return j(l,"Cannot write after close. Assign an onready handler.");if(d===null)return N(l);typeof d=="object"&&(d=d.toString());for(var M=0,S="";S=kt(d,M++),l.c=S,!!S;)switch(l.trackPosition&&(l.position++,S===`
`?(l.line++,l.column=0):l.column++),l.state){case f.BEGIN:if(l.state=f.BEGIN_WHITESPACE,S==="\uFEFF")continue;ge(l,S);continue;case f.BEGIN_WHITESPACE:ge(l,S);continue;case f.TEXT:if(l.sawRoot&&!l.closedRoot){for(var B=M-1;S&&S!=="<"&&S!=="&";)S=kt(d,M++),S&&l.trackPosition&&(l.position++,S===`
`?(l.line++,l.column=0):l.column++);l.textNode+=d.substring(B,M-1)}S==="<"&&!(l.sawRoot&&l.closedRoot&&!l.strict)?(l.state=f.OPEN_WAKA,l.startTagPosition=l.position):(!b(S)&&(!l.sawRoot||l.closedRoot)&&O(l,"Text data outside of root node."),S==="&"?l.state=f.TEXT_ENTITY:l.textNode+=S);continue;case f.SCRIPT:S==="<"?l.state=f.SCRIPT_ENDING:l.script+=S;continue;case f.SCRIPT_ENDING:S==="/"?l.state=f.CLOSE_TAG:(l.script+="<"+S,l.state=f.SCRIPT);continue;case f.OPEN_WAKA:if(S==="!")l.state=f.SGML_DECL,l.sgmlDecl="";else if(!b(S))if(_(T,S))l.state=f.OPEN_TAG,l.tagName=S;else if(S==="/")l.state=f.CLOSE_TAG,l.tagName="";else if(S==="?")l.state=f.PROC_INST,l.procInstName=l.procInstBody="";else{if(O(l,"Unencoded <"),l.startTagPosition+1<l.position){var q=l.position-l.startTagPosition;S=new Array(q).join(" ")+S}l.textNode+="<"+S,l.state=f.TEXT}continue;case f.SGML_DECL:(l.sgmlDecl+S).toUpperCase()===g?(w(l,"onopencdata"),l.state=f.CDATA,l.sgmlDecl="",l.cdata=""):l.sgmlDecl+S==="--"?(l.state=f.COMMENT,l.comment="",l.sgmlDecl=""):(l.sgmlDecl+S).toUpperCase()===A?(l.state=f.DOCTYPE,(l.doctype||l.sawRoot)&&O(l,"Inappropriately located doctype declaration"),l.doctype="",l.sgmlDecl=""):S===">"?(w(l,"onsgmldeclaration",l.sgmlDecl),l.sgmlDecl="",l.state=f.TEXT):(p(S)&&(l.state=f.SGML_DECL_QUOTED),l.sgmlDecl+=S);continue;case f.SGML_DECL_QUOTED:S===l.q&&(l.state=f.SGML_DECL,l.q=""),l.sgmlDecl+=S;continue;case f.DOCTYPE:S===">"?(l.state=f.TEXT,w(l,"ondoctype",l.doctype),l.doctype=!0):(l.doctype+=S,S==="["?l.state=f.DOCTYPE_DTD:p(S)&&(l.state=f.DOCTYPE_QUOTED,l.q=S));continue;case f.DOCTYPE_QUOTED:l.doctype+=S,S===l.q&&(l.q="",l.state=f.DOCTYPE);continue;case f.DOCTYPE_DTD:l.doctype+=S,S==="]"?l.state=f.DOCTYPE:p(S)&&(l.state=f.DOCTYPE_DTD_QUOTED,l.q=S);continue;case f.DOCTYPE_DTD_QUOTED:l.doctype+=S,S===l.q&&(l.state=f.DOCTYPE_DTD,l.q="");continue;case f.COMMENT:S==="-"?l.state=f.COMMENT_ENDING:l.comment+=S;continue;case f.COMMENT_ENDING:S==="-"?(l.state=f.COMMENT_ENDED,l.comment=F(l.opt,l.comment),l.comment&&w(l,"oncomment",l.comment),l.comment=""):(l.comment+="-"+S,l.state=f.COMMENT);continue;case f.COMMENT_ENDED:S!==">"?(O(l,"Malformed comment"),l.comment+="--"+S,l.state=f.COMMENT):l.state=f.TEXT;continue;case f.CDATA:S==="]"?l.state=f.CDATA_ENDING:l.cdata+=S;continue;case f.CDATA_ENDING:S==="]"?l.state=f.CDATA_ENDING_2:(l.cdata+="]"+S,l.state=f.CDATA);continue;case f.CDATA_ENDING_2:S===">"?(l.cdata&&w(l,"oncdata",l.cdata),w(l,"onclosecdata"),l.cdata="",l.state=f.TEXT):S==="]"?l.cdata+="]":(l.cdata+="]]"+S,l.state=f.CDATA);continue;case f.PROC_INST:S==="?"?l.state=f.PROC_INST_ENDING:b(S)?l.state=f.PROC_INST_BODY:l.procInstName+=S;continue;case f.PROC_INST_BODY:if(!l.procInstBody&&b(S))continue;S==="?"?l.state=f.PROC_INST_ENDING:l.procInstBody+=S;continue;case f.PROC_INST_ENDING:S===">"?(w(l,"onprocessinginstruction",{name:l.procInstName,body:l.procInstBody}),l.procInstName=l.procInstBody="",l.state=f.TEXT):(l.procInstBody+="?"+S,l.state=f.PROC_INST_BODY);continue;case f.OPEN_TAG:_(I,S)?l.tagName+=S:(U(l),S===">"?Y(l):S==="/"?l.state=f.OPEN_TAG_SLASH:(b(S)||O(l,"Invalid character in tag name"),l.state=f.ATTRIB));continue;case f.OPEN_TAG_SLASH:S===">"?(Y(l,!0),rt(l)):(O(l,"Forward-slash in opening tag not followed by >"),l.state=f.ATTRIB);continue;case f.ATTRIB:if(b(S))continue;S===">"?Y(l):S==="/"?l.state=f.OPEN_TAG_SLASH:_(T,S)?(l.attribName=S,l.attribValue="",l.state=f.ATTRIB_NAME):O(l,"Invalid attribute name");continue;case f.ATTRIB_NAME:S==="="?l.state=f.ATTRIB_VALUE:S===">"?(O(l,"Attribute without value"),l.attribValue=l.attribName,Z(l),Y(l)):b(S)?l.state=f.ATTRIB_NAME_SAW_WHITE:_(I,S)?l.attribName+=S:O(l,"Invalid attribute name");continue;case f.ATTRIB_NAME_SAW_WHITE:if(S==="=")l.state=f.ATTRIB_VALUE;else{if(b(S))continue;O(l,"Attribute without value"),l.tag.attributes[l.attribName]="",l.attribValue="",w(l,"onattribute",{name:l.attribName,value:""}),l.attribName="",S===">"?Y(l):_(T,S)?(l.attribName=S,l.state=f.ATTRIB_NAME):(O(l,"Invalid attribute name"),l.state=f.ATTRIB)}continue;case f.ATTRIB_VALUE:if(b(S))continue;p(S)?(l.q=S,l.state=f.ATTRIB_VALUE_QUOTED):(O(l,"Unquoted attribute value"),l.state=f.ATTRIB_VALUE_UNQUOTED,l.attribValue=S);continue;case f.ATTRIB_VALUE_QUOTED:if(S!==l.q){S==="&"?l.state=f.ATTRIB_VALUE_ENTITY_Q:l.attribValue+=S;continue}Z(l),l.q="",l.state=f.ATTRIB_VALUE_CLOSED;continue;case f.ATTRIB_VALUE_CLOSED:b(S)?l.state=f.ATTRIB:S===">"?Y(l):S==="/"?l.state=f.OPEN_TAG_SLASH:_(T,S)?(O(l,"No whitespace between attributes"),l.attribName=S,l.attribValue="",l.state=f.ATTRIB_NAME):O(l,"Invalid attribute name");continue;case f.ATTRIB_VALUE_UNQUOTED:if(!u(S)){S==="&"?l.state=f.ATTRIB_VALUE_ENTITY_U:l.attribValue+=S;continue}Z(l),S===">"?Y(l):l.state=f.ATTRIB;continue;case f.CLOSE_TAG:if(l.tagName)S===">"?rt(l):_(I,S)?l.tagName+=S:l.script?(l.script+="</"+l.tagName,l.tagName="",l.state=f.SCRIPT):(b(S)||O(l,"Invalid tagname in closing tag"),l.state=f.CLOSE_TAG_SAW_WHITE);else{if(b(S))continue;D(T,S)?l.script?(l.script+="</"+S,l.state=f.SCRIPT):O(l,"Invalid tagname in closing tag."):l.tagName=S}continue;case f.CLOSE_TAG_SAW_WHITE:if(b(S))continue;S===">"?rt(l):O(l,"Invalid characters in closing tag");continue;case f.TEXT_ENTITY:case f.ATTRIB_VALUE_ENTITY_Q:case f.ATTRIB_VALUE_ENTITY_U:var H,X;switch(l.state){case f.TEXT_ENTITY:H=f.TEXT,X="textNode";break;case f.ATTRIB_VALUE_ENTITY_Q:H=f.ATTRIB_VALUE_QUOTED,X="attribValue";break;case f.ATTRIB_VALUE_ENTITY_U:H=f.ATTRIB_VALUE_UNQUOTED,X="attribValue";break}S===";"?(l[X]+=Qt(l),l.entity="",l.state=H):_(l.entity.length?P:C,S)?l.entity+=S:(O(l,"Invalid character in entity name"),l[X]+="&"+l.entity+S,l.entity="",l.state=H);continue;default:throw new Error(l,"Unknown state: "+l.state)}return l.position>=l.bufferCheckPosition&&n(l),l}String.fromCodePoint||function(){var d=String.fromCharCode,l=Math.floor,M=function(){var S=16384,B=[],q,H,X=-1,V=arguments.length;if(!V)return"";for(var G="";++X<V;){var K=Number(arguments[X]);if(!isFinite(K)||K<0||K>1114111||l(K)!==K)throw RangeError("Invalid code point: "+K);K<=65535?B.push(K):(K-=65536,q=(K>>10)+55296,H=K%1024+56320,B.push(q,H)),(X+1===V||B.length>S)&&(G+=d.apply(null,B),B.length=0)}return G};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:M,configurable:!0,writable:!0}):String.fromCodePoint=M}()})(typeof ur>"u"?ur.sax={}:ur)});var xu=R(ni=>{(function(){"use strict";ni.stripBOM=function(e){return e[0]==="\uFEFF"?e.substring(1):e}}).call(ni)});var ii=R(Ut=>{(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),Ut.normalize=function(t){return t.toLowerCase()},Ut.firstCharLowerCase=function(t){return t.charAt(0).toLowerCase()+t.slice(1)},Ut.stripPrefix=function(t){return t.replace(e,"")},Ut.parseNumbers=function(t){return isNaN(t)||(t=t%1===0?parseInt(t,10):parseFloat(t)),t},Ut.parseBooleans=function(t){return/^(?:true|false)$/i.test(t)&&(t=t.toLowerCase()==="true"),t}}).call(Ut)});var Nu=R(Ot=>{(function(){"use strict";var e,t,r,n,i,o,s,a,c,y=function(h,E){return function(){return h.apply(E,arguments)}},g=function(h,E){for(var m in E)A.call(E,m)&&(h[m]=E[m]);function T(){this.constructor=h}return T.prototype=E.prototype,h.prototype=new T,h.__super__=E.prototype,h},A={}.hasOwnProperty;a=Pu(),n=require("events"),e=xu(),s=ii(),c=require("timers").setImmediate,t=We().defaults,i=function(h){return typeof h=="object"&&h!=null&&Object.keys(h).length===0},o=function(h,E,m){var T,I,C;for(T=0,I=h.length;T<I;T++)C=h[T],E=C(E,m);return E},r=function(h,E,m){var T;return T=Object.create(null),T.value=m,T.writable=!0,T.enumerable=!0,T.configurable=!0,Object.defineProperty(h,E,T)},Ot.Parser=function(h){g(E,h);function E(m){this.parseStringPromise=y(this.parseStringPromise,this),this.parseString=y(this.parseString,this),this.reset=y(this.reset,this),this.assignOrPush=y(this.assignOrPush,this),this.processAsync=y(this.processAsync,this);var T,I,C;if(!(this instanceof Ot.Parser))return new Ot.Parser(m);this.options={},I=t["0.2"];for(T in I)A.call(I,T)&&(C=I[T],this.options[T]=C);for(T in m)A.call(m,T)&&(C=m[T],this.options[T]=C);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(s.normalize)),this.reset()}return E.prototype.processAsync=function(){var m,T;try{return this.remaining.length<=this.options.chunkSize?(m=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(m),this.saxParser.close()):(m=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(m),c(this.processAsync))}catch(I){if(T=I,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(T)}},E.prototype.assignOrPush=function(m,T,I){return T in m?(m[T]instanceof Array||r(m,T,[m[T]]),m[T].push(I)):this.options.explicitArray?r(m,T,[I]):r(m,T,I)},E.prototype.reset=function(){var m,T,I,C;return this.removeAllListeners(),this.saxParser=a.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(P){return function(b){if(P.saxParser.resume(),!P.saxParser.errThrown)return P.saxParser.errThrown=!0,P.emit("error",b)}}(this),this.saxParser.onend=function(P){return function(){if(!P.saxParser.ended)return P.saxParser.ended=!0,P.emit("end",P.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,C=[],m=this.options.attrkey,T=this.options.charkey,this.saxParser.onopentag=function(P){return function(b){var p,u,_,D,f;if(_={},_[T]="",!P.options.ignoreAttrs){f=b.attributes;for(p in f)A.call(f,p)&&(!(m in _)&&!P.options.mergeAttrs&&(_[m]={}),u=P.options.attrValueProcessors?o(P.options.attrValueProcessors,b.attributes[p],p):b.attributes[p],D=P.options.attrNameProcessors?o(P.options.attrNameProcessors,p):p,P.options.mergeAttrs?P.assignOrPush(_,D,u):r(_[m],D,u))}return _["#name"]=P.options.tagNameProcessors?o(P.options.tagNameProcessors,b.name):b.name,P.options.xmlns&&(_[P.options.xmlnskey]={uri:b.uri,local:b.local}),C.push(_)}}(this),this.saxParser.onclosetag=function(P){return function(){var b,p,u,_,D,f,x,v,w,L;if(f=C.pop(),D=f["#name"],(!P.options.explicitChildren||!P.options.preserveChildrenOrder)&&delete f["#name"],f.cdata===!0&&(b=f.cdata,delete f.cdata),w=C[C.length-1],f[T].match(/^\s*$/)&&!b?(p=f[T],delete f[T]):(P.options.trim&&(f[T]=f[T].trim()),P.options.normalize&&(f[T]=f[T].replace(/\s{2,}/g," ").trim()),f[T]=P.options.valueProcessors?o(P.options.valueProcessors,f[T],D):f[T],Object.keys(f).length===1&&T in f&&!P.EXPLICIT_CHARKEY&&(f=f[T])),i(f)&&(typeof P.options.emptyTag=="function"?f=P.options.emptyTag():f=P.options.emptyTag!==""?P.options.emptyTag:p),P.options.validator!=null&&(L="/"+function(){var F,j,N;for(N=[],F=0,j=C.length;F<j;F++)_=C[F],N.push(_["#name"]);return N}().concat(D).join("/"),function(){var F;try{return f=P.options.validator(L,w&&w[D],f)}catch(j){return F=j,P.emit("error",F)}}()),P.options.explicitChildren&&!P.options.mergeAttrs&&typeof f=="object"){if(!P.options.preserveChildrenOrder)_={},P.options.attrkey in f&&(_[P.options.attrkey]=f[P.options.attrkey],delete f[P.options.attrkey]),!P.options.charsAsChildren&&P.options.charkey in f&&(_[P.options.charkey]=f[P.options.charkey],delete f[P.options.charkey]),Object.getOwnPropertyNames(f).length>0&&(_[P.options.childkey]=f),f=_;else if(w){w[P.options.childkey]=w[P.options.childkey]||[],x={};for(u in f)A.call(f,u)&&r(x,u,f[u]);w[P.options.childkey].push(x),delete f["#name"],Object.keys(f).length===1&&T in f&&!P.EXPLICIT_CHARKEY&&(f=f[T])}}return C.length>0?P.assignOrPush(w,D,f):(P.options.explicitRoot&&(v=f,f={},r(f,D,v)),P.resultObject=f,P.saxParser.ended=!0,P.emit("end",P.resultObject))}}(this),I=function(P){return function(b){var p,u;if(u=C[C.length-1],u)return u[T]+=b,P.options.explicitChildren&&P.options.preserveChildrenOrder&&P.options.charsAsChildren&&(P.options.includeWhiteChars||b.replace(/\\n/g,"").trim()!=="")&&(u[P.options.childkey]=u[P.options.childkey]||[],p={"#name":"__text__"},p[T]=b,P.options.normalize&&(p[T]=p[T].replace(/\s{2,}/g," ").trim()),u[P.options.childkey].push(p)),u}}(this),this.saxParser.ontext=I,this.saxParser.oncdata=function(P){return function(b){var p;if(p=I(b),p)return p.cdata=!0}}(this)},E.prototype.parseString=function(m,T){var I;T!=null&&typeof T=="function"&&(this.on("end",function(C){return this.reset(),T(null,C)}),this.on("error",function(C){return this.reset(),T(C)}));try{return m=m.toString(),m.trim()===""?(this.emit("end",null),!0):(m=e.stripBOM(m),this.options.async?(this.remaining=m,c(this.processAsync),this.saxParser):this.saxParser.write(m).close())}catch(C){if(I=C,this.saxParser.errThrown||this.saxParser.ended){if(this.saxParser.ended)throw I}else return this.emit("error",I),this.saxParser.errThrown=!0}},E.prototype.parseStringPromise=function(m){return new Promise(function(T){return function(I,C){return T.parseString(m,function(P,b){return P?C(P):I(b)})}}(this))},E}(n),Ot.parseString=function(h,E,m){var T,I,C;return m!=null?(typeof m=="function"&&(T=m),typeof E=="object"&&(I=E)):(typeof E=="function"&&(T=E),I={}),C=new Ot.Parser(I),C.parseString(h,T)},Ot.parseStringPromise=function(h,E){var m,T;return typeof E=="object"&&(m=E),T=new Ot.Parser(m),T.parseStringPromise(h)}}).call(Ot)});var Cu=R(Dt=>{(function(){"use strict";var e,t,r,n,i=function(s,a){for(var c in a)o.call(a,c)&&(s[c]=a[c]);function y(){this.constructor=s}return y.prototype=a.prototype,s.prototype=new y,s.__super__=a.prototype,s},o={}.hasOwnProperty;t=We(),e=Du(),r=Nu(),n=ii(),Dt.defaults=t.defaults,Dt.processors=n,Dt.ValidationError=function(s){i(a,s);function a(c){this.message=c}return a}(Error),Dt.Builder=e.Builder,Dt.Parser=r.Parser,Dt.parseString=r.parseString,Dt.parseStringPromise=r.parseStringPromise}).call(Dt)});var Fu=R((ky,Mu)=>{Mu.exports=Ru;Ru.sync=Rh;var Iu=require("fs");function Lh(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function Lu(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:Lh(t,r)}function Ru(e,t,r){Iu.stat(e,function(n,i){r(n,n?!1:Lu(i,e,t))})}function Rh(e,t){return Lu(Iu.statSync(e),e,t)}});var ju=R((Hy,Bu)=>{Bu.exports=ku;ku.sync=Mh;var qu=require("fs");function ku(e,t,r){qu.stat(e,function(n,i){r(n,n?!1:Hu(i,t))})}function Mh(e,t){return Hu(qu.statSync(e),t)}function Hu(e,t){return e.isFile()&&Fh(e,t)}function Fh(e,t){var r=e.mode,n=e.uid,i=e.gid,o=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),y=parseInt("001",8),g=a|c,A=r&y||r&c&&i===s||r&a&&n===o||r&g&&o===0;return A}});var Xu=R((jy,$u)=>{var By=require("fs"),cr;process.platform==="win32"||global.TESTING_WINDOWS?cr=Fu():cr=ju();$u.exports=si;si.sync=qh;function si(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){si(e,t||{},function(o,s){o?i(o):n(s)})})}cr(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function qh(e,t){try{return cr.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var Qu=R(($y,Ku)=>{var ae=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Uu=require("path"),kh=ae?";":":",Vu=Xu(),Gu=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Wu=(e,t)=>{let r=t.colon||kh,n=e.match(/\//)||ae&&e.match(/\\/)?[""]:[...ae?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=ae?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=ae?i.split(r):[""];return ae&&e.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},Yu=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Wu(e,t),s=[],a=y=>new Promise((g,A)=>{if(y===n.length)return t.all&&s.length?g(s):A(Gu(e));let h=n[y],E=/^".*"$/.test(h)?h.slice(1,-1):h,m=Uu.join(E,e),T=!E&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;g(c(T,y,0))}),c=(y,g,A)=>new Promise((h,E)=>{if(A===i.length)return h(a(g+1));let m=i[A];Vu(y+m,{pathExt:o},(T,I)=>{if(!T&&I)if(t.all)s.push(y+m);else return h(y+m);return h(c(y,g,A+1))})});return r?a(0).then(y=>r(null,y),r):a(0)},Hh=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=Wu(e,t),o=[];for(let s=0;s<r.length;s++){let a=r[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,y=Uu.join(c,e),g=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;for(let A=0;A<n.length;A++){let h=g+n[A];try{if(Vu.sync(h,{pathExt:i}))if(t.all)o.push(h);else return h}catch{}}}if(t.all&&o.length)return o;if(t.nothrow)return null;throw Gu(e)};Ku.exports=Yu;Yu.sync=Hh});var cd={};Pc(cd,{default:()=>wc});module.exports=xc(cd);var et=require("@raycast/api");var nt=require("@raycast/api"),Vt=require("fs/promises"),Ju=hr(ua()),ut=require("path"),zu=hr(Cu()),dt=require("os"),oi=hr(Qu()),Zu=require("child_process"),tc=require("util"),Gt=(0,tc.promisify)(Zu.exec),me="jb.png",lr=(0,nt.getPreferenceValues)(),ec=String(lr.bin).replace("~",(0,dt.homedir)()),ce=String(lr.toolsInstall).replace("~",(0,dt.homedir)()),Bh="~/Library/Application Support/JetBrains/Toolbox".replace("~",(0,dt.homedir)()),rc=!!lr.fallback,jh=!!lr.historic,$h=(0,ut.resolve)((0,dt.homedir)(),"Applications/JetBrains Toolbox/*/Contents/Resources/icon.icns"),Xh=(0,ut.resolve)(ce,"apps/**/.history.json"),Uh=(0,ut.resolve)(Bh,"channels/*.json"),Vh=(0,ut.resolve)(ce,"apps/**/*.app"),Gh=(0,ut.resolve)(ce,".settings.json"),Wh=(e,t,r)=>r.find(n=>(0,ut.dirname)(n.path).startsWith((0,ut.dirname)(e))&&(0,ut.dirname)(n.path).includes(t));function nc(e){return(0,Vt.lstat)(e).then(t=>({title:e.split("/").reverse()[0],path:e,isDir:t.isDirectory(),icon:t.isDirectory()?"dir":"file",lastModifiedAt:t.mtime}))}function ue(e,t){return(0,Ju.default)(e,t).then(async r=>await Promise.all(r.map(nc)))}var Yh=(e,t)=>{if(t.length==0)return t;if(typeof t[0][e]!="string")throw new Error("Not a string type");let n=new Set;return t.reduce((i,o)=>{let s=String(o[e]);return n.has(s)?i:(n.add(s),[...i,o])},[])};async function Kh(e,t){return(0,Vt.readFile)(e.path).then(r=>(0,zu.parseStringPromise)(r,{attrkey:"_attr"}).then(n=>((n.application?.component[0].option[0].map??[])[0]?.entry??[]).map(i=>{let o=(i.value[0].RecentProjectMetaInfo[0].option??[]).find(a=>a._attr.name==="projectOpenTimestamp"),s=i._attr.key.replace("$USER_HOME$",(0,dt.homedir)());return{title:(0,ut.basename)(s),icon:t.icon??me,path:s,dirname:(0,ut.dirname)(s).replace((0,dt.homedir)(),"~").replace("/Volumes",""),opened:Number(o?._attr.value??0),parts:s.substr(1).split("/").reverse().slice(1).join(" \u2190 "),appName:t.title}}).map(async i=>({...i,exists:await(0,Vt.stat)(i.path).then(()=>!0).catch(()=>!1)})))).catch(r=>(console.error(r),(0,nt.showToast)(nt.Toast.Style.Failure,`Recent project lookup for "${t.title}" failed with error: 

 ${r}`),[])).then(async r=>await Promise.all(r))}var ai=async e=>await Promise.all(e.map(async t=>{let r=t.xmlFiles??[];for(let n of jh?r:r.slice(0,1)){let i=await Kh(n,t);t.entries=Yh("path",[...t.entries??[],...i]).sort((o,s)=>s.opened-o.opened)}return t})),ic=async(e,t)=>(await ue(e)).map(r=>({...r,title:r.title,icon:t})).sort((r,n)=>n.lastModifiedAt.getTime()-r.lastModifiedAt.getTime()),sc=async()=>{let e=(await(0,nt.getApplications)()).find(r=>r.bundleId==="com.jetbrains.toolbox");if(e===void 0)return e;let t=await Gt(`defaults read "${e.path}/Contents/Info.plist" CFBundleShortVersionString`).then(({stdout:r})=>r.trim());return{...e,version:t,isV2:!!t.match(/^2\./)}};var Qh=e=>{if(e.item.intellij_platform===void 0)return[];let t=(0,ut.dirname)(e.item.intellij_platform.default_config_directories["idea.config.path"].replace("$HOME",(0,dt.homedir)()));return e.item.intellij_platform.config.map(r=>`${t}/${r.directory}/options/${r.recent_projects_filename}`)},Jh=e=>{if(e.tool.toolName===void 0)return[];let t=(e.tool?.extensions??[]).find(n=>n?.defaultConfigDirectories??!1);return t?.defaultConfigDirectories===void 0?["Space Desktop","Fleet","dotTrace"].includes(e.tool.toolName)?[`${nt.environment.assetsPath}/unsupported.xml`]:[`${nt.environment.assetsPath}/missing.xml`]:[`${t.defaultConfigDirectories["idea.config.path"].replace("$HOME",(0,dt.homedir)())}/options/recent(Projects|Solutions).xml`]},zh=e=>e.tool.toolName===void 0?void 0:(e.tool?.extensions??[]).find(r=>r?.type==="shell")?.name,ui=async e=>{try{return String(await(0,Vt.readFile)(e))}catch(t){return(0,nt.showToast)(nt.Toast.Style.Failure,`Read file for ${e} failed with error 

 ${t}`).catch(()=>console.log(t)),null}},oc=async e=>{try{return JSON.parse(await ui(e)??"{}")}catch(t){return(0,nt.showToast)(nt.Toast.Style.Failure,`History lookup for ${e} failed with error 

 ${t}`).catch(()=>console.log(t)),{}}},Zh=async e=>{try{return JSON.parse(await ui(e)??"{}")}catch(t){return(0,nt.showToast)(nt.Toast.Style.Failure,`History lookup for ${e} failed with error 

 ${t}`).catch(()=>console.log(t)),{}}},ac=async()=>{let e=(await ue(Gh)).find(t=>t.path);if(e?.path!==void 0)return await oc(e.path)},ci=async()=>{let e=await td(),t=await ue(Vh,{deep:5,onlyDirectories:!0}),r=(await ac())?.shell_scripts.location.replace("~",(0,dt.homedir)())??ec;return(await Promise.all((await ue(Xh)).filter(n=>!n.path.includes("self/.history.json")).map(async n=>{let i=await oc(n.path);if(!i.history?.length)return null;let o=await ui(n.path.replace("history.json","shellLink")),s=i.history.sort((g,A)=>Number(g.item.build)-Number(A.item.build)).pop(),a=e.find(g=>g.title.startsWith(s.item.name))?.path??me,c=o??s.item.intellij_platform?.shell_script_name??!1,y=s.item.activation?.hosts[0]??!1;return{title:`${s.item.name} ${s.item.version}`,name:s.item.name,id:s.item.id,version:s.item.version,build:s.item.build,url:rc&&y?`jetbrains://${y}/navigate/reference?project=`:!1,tool:c?await(0,oi.default)(c,{path:r}).catch(()=>!1):!1,toolName:c||!1,app:Wh(n.path,s.item.build,t),icon:a,xmlFiles:await ic(Qh(s),a)}}))).filter(n=>!!n)},uc=async()=>{let e=(await ac())?.shell_scripts.location.replace("~",(0,dt.homedir)())??ec;return(await Promise.all((await ue(Uh)).map(async t=>{let r=await Zh(t.path);if(!r.channel)return null;let n={fileIcon:r.channel.installationDirectory},i=zh(r),o=i?await(0,oi.default)(i,{path:e}).catch(()=>!1):!1;return{title:`${r.tool.toolName} ${r.tool.versionName}`,name:r.tool.toolName,id:r.tool.toolId,version:r.tool.versionName,build:r.tool.buildNumber,url:rc&&i?`jetbrains://${i}/navigate/reference?project=`:!1,tool:o||!1,toolName:o||!1,app:await nc(r.channel.installationDirectory),icon:n,xmlFiles:await ic(Jh(r),n)}}))).filter(t=>!!t)},td=async()=>(await ue($h)).map(e=>({...e,title:e.path.split("/").find(t=>t.match(/.+\.app/))||e.title,icon:e.path}));var tt=require("@raycast/api"),ed=require("react/jsx-runtime");function li(e,t,r){let n=e.tool?`"${e.tool}" "${t?.path??""}"`:e.url?`open ${e.url}${t?.title??""}`:void 0,i=e.app?.path??"";async function o(){let a=r?`ps aux | grep -v "grep" | grep "${e.app?.path}"`:`ps aux | grep -v "grep" | grep "${e.id}" | grep "${e.build}"`,{stdout:c}=await Gt(a).catch(y=>({stdout:""}));return c!==""}function s(a){return new Promise(function(c){setTimeout(c,a*1e3)})}return async function(){if(n===void 0)return(0,tt.showToast)(tt.Toast.Style.Failure,"Failed","No script or url configured, have you enabled shell scripts in JetBrains Toolbox or enabled protocol urls in the extension config");if(i===""&&e.tool===!1)return(0,tt.showToast)(tt.Toast.Style.Failure,"Failed","No app path");let a=await o();if(!a){if(i==="")return(0,tt.showToast)(tt.Toast.Style.Failure,"Failed","No app path");console.log("not-running"),await(0,tt.showHUD)(`Opening ${e.title}`).then(()=>(0,tt.open)(i));do await s(2),a=await o();while(!a)}(0,tt.showHUD)(`Opening ${t?t.title:e.title}`).then(()=>t!==null&&Gt(n)&&null).then(()=>(0,tt.popToRoot)()).catch(c=>(0,tt.showToast)(tt.Toast.Style.Failure,"Failed",c.message).then(()=>console.error({error:c})))}}var cc=require("react"),rd=require("@raycast/api");var wt=require("react"),hi=require("@raycast/api"),nd=(e,t)=>e.map(r=>r===void 0?[]:r.filter(n=>!(t??[]).includes(n))),fi=async e=>{let t=await hi.LocalStorage.getItem(e);return JSON.parse(t??"[]")??[]},pi=async(e,t)=>{await hi.LocalStorage.setItem(e,JSON.stringify(t))};function di(e,...t){let[r,n]=(0,wt.useState)(t),[i,o]=(0,wt.useState)([]);(0,wt.useEffect)(()=>{fi(e).then(g=>o(g))},[e]);let s=(0,wt.useCallback)((...g)=>n(g),[e]),a=(0,wt.useCallback)(async g=>{let A=await fi(e);A.includes(g)||A.push(g),pi(e,A).then(()=>o(A))},[e]),c=(0,wt.useCallback)(async g=>{let A=(await fi(e)).filter(h=>h!==g);pi(e,A).then(()=>o(A))},[e,r]),y=(0,wt.useCallback)(async()=>{await pi(e,[]),o([])},[e,r]);return[i||[],nd(r,i),s,{add:a,remove:c,reset:y}]}var Wt=require("react"),yi=require("@raycast/api"),pc="app.preferences",lc=async()=>{let e=await yi.LocalStorage.getItem(pc);return JSON.parse(e??"{}")??{}},fc=async e=>{await yi.LocalStorage.setItem(pc,JSON.stringify(e))};function fr(e){let[t,r]=(0,Wt.useState)(e);(0,Wt.useEffect)(()=>{lc().then(o=>r({...e,...o}))},[]);let n=(0,Wt.useCallback)(async(o,s)=>{let a=await lc();a[o]=s,await fc(a),r(a)},[]),i=(0,Wt.useCallback)(()=>{fc(e).then(()=>r(e))},[e]);return[t,{update:n,reset:i}]}var id=require("@raycast/api");var sd=require("@raycast/api");var Pt=require("react");var Yt=require("@raycast/api"),mi=require("react");var dc=require("react/jsx-runtime");function hc(e){return function(t,r){return e.indexOf(t.title)-e.indexOf(r.title)}}function yc(e,t){let r=String(t).split(",");return(t===""||r.length===0)&&(r=e.map(n=>n.title).sort()),e.sort(hc(r))}function od(e,t){switch(t.type){case"setToolboxApp":return t.results===void 0?{...e,toolboxApp:!1,isLoading:!1}:{...e,toolboxApp:t.results};case"setHistory":return{...e,history:t.results};case"setEntries":return{...e,isLoading:!1,appHistory:yc(t.results,e.sortOrder),all:mc(t.results),myFavs:gc(e.favourites,mc(t.results))};case"finished":return{...e,isLoading:!1};case"setSortOrder":return{...e,sortOrder:t.results,appHistory:yc(e.appHistory,t.results)};case"setFavourites":return{...e,favourites:t.results,myFavs:gc(t.results,e.all)};case"setFilter":return{...e,filter:t.results}}}var ad={isLoading:!0,appHistory:[],sortOrder:"",filter:"",all:[],favourites:[],myFavs:[]};function mc(e){return e.reduce((t,r)=>[...t,...r?.entries??[]],[])}function gc(e,t){return e.map(r=>t.find(n=>r===n.path)).filter(r=>!!r)}function _c(){let[{sortOrder:e,screenshotMode:t},r]=fr({sortOrder:"",screenshotMode:!1}),[n,i,o,s]=di("history",[]),[{isLoading:a,toolboxApp:c,history:y,appHistory:g,myFavs:A,filter:h,...E},m]=(0,Pt.useReducer)(od,{...ad,sortOrder:String(e),favourites:n});return(0,Pt.useEffect)(()=>{sc().then(T=>m({type:"setToolboxApp",results:T}))},[]),(0,Pt.useEffect)(()=>{c===void 0||c===!1||(c.isV2?uc().then(T=>m({type:"setHistory",results:T})):ci().then(T=>m({type:"setHistory",results:T})))},[c]),(0,Pt.useEffect)(()=>{y!==void 0&&ai(y).then(T=>m({type:"setEntries",results:T}))},[y]),(0,Pt.useEffect)(()=>{e!==E.sortOrder&&m({type:"setSortOrder",results:String(e)})},[e,E.sortOrder]),(0,Pt.useEffect)(()=>{n!==E.favourites&&m({type:"setFavourites",results:n})},[n,E.favourites]),(0,Pt.useEffect)(()=>{o(...g.map(T=>(T?.entries??[]).map(I=>I.path)))},[g,h]),{isLoading:a||i.length===0,toolboxApp:c,appHistory:g,myFavs:A,filter:h,dispatch:m,histories:i,favActions:s,sortOrder:e,screenshotMode:t,prefActions:r}}var Kt=require("@raycast/api");var ud=require("react/jsx-runtime");async function Ec(e,t){t&&await Gt(`osascript -e 'quit app "${e?.name}"'`).catch(r=>r&&console.error(r)&&(0,Kt.showToast)(Kt.Toast.Style.Failure,r?.message)),Gt(`open -b "${e?.bundleId}"`).catch(r=>r&&(0,Kt.showToast)(Kt.Toast.Style.Failure,r?.message))}var z=require("react/jsx-runtime"),qt=32,bc={source:{dark:`${ce}/Contents/Resources/toolbox-tray-dark@2x.png`,light:`${ce}/Contents/Resources/toolbox-tray@2x.png`}};function wc(){let{isLoading:e,toolboxApp:t,appHistory:r,myFavs:n,filter:i,histories:o}=_c(),s=t===!1?!1:!!t?.isV2;return t===void 0||t===!1?(0,z.jsx)(et.MenuBarExtra,{isLoading:e,icon:bc,children:(0,z.jsx)(et.MenuBarExtra.Item,{title:"Jetbrains Toolbox not found, please install it"})}):(0,z.jsx)(et.MenuBarExtra,{isLoading:e,icon:bc,children:e?null:(0,z.jsxs)(z.Fragment,{children:[t&&(0,z.jsx)(et.MenuBarExtra.Item,{icon:me,title:`Open ${t.name}`,onAction:()=>(0,et.open)(t?.path)}),(0,z.jsx)(et.MenuBarExtra.Section,{}),n.length&&i===""?(0,z.jsxs)(z.Fragment,{children:[n.map(a=>(0,z.jsx)(et.MenuBarExtra.Item,{icon:(r.find(c=>c.title===a.appName)||r[0]).icon,title:`Open ${a.title.length<qt?a.title:a.title.substring(0,qt-1)+"\u2026"}`,subtitle:`\u2190 ${a.title.length+a.parts.length<qt?a.parts:a.parts.substring(0,qt-a.title.length-2)+"\u2026"}`,onAction:li(r.find(c=>c.title===a.appName)||r[0],a,s)},a.path)),(0,z.jsx)(et.MenuBarExtra.Section,{})]}):null,r.filter(a=>i===""||i===a.title).map((a,c)=>(0,z.jsxs)(et.MenuBarExtra.Submenu,{icon:a.icon,title:a.title,children:[(0,z.jsx)(et.MenuBarExtra.Item,{icon:a.icon,title:`Open ${a.title}`,onAction:()=>(0,et.open)(a.app?.path??"")}),a.entries&&(0,z.jsx)(et.MenuBarExtra.Separator,{}),a.entries?a.entries.filter(y=>i!==""||(o[c]??[]).includes(y.path)).filter(y=>y.path!=="unsupported").map(y=>y?.path?y.path==="missing"&&y.title==="missing"?(0,z.jsx)(et.MenuBarExtra.Item,{title:"Missing config, please relaunch JetBrains Toolbox",onAction:()=>Ec(t,!0),icon:et.Icon.ExclamationMark},`${a.title}-${y.path}`):(0,z.jsx)(et.MenuBarExtra.Item,{title:`Open ${y.title.length<qt?y.title:y.title.substring(0,qt-1)+"\u2026"}`,subtitle:`\u2190 ${y.title.length+y.parts.length<qt?y.parts:y.parts.substring(0,qt-y.title.length-2)+"\u2026"}`,tooltip:`Open ${y.path} in ${a.title}`,onAction:li(a,y,s)},`${a.title}-${y.path}`):null):null]},a.title))]})})}
/*! Bundled license information:

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
